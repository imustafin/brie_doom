<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <!-- Begin Jekyll SEO tag v2.7.1 -->
    <title>
      Brie Doom | Doom source port in Eiffel with Design by Contract
    </title>
    <meta name="generator" content="Jekyll v4.2.0" />
    <meta property="og:title" content="Brie Doom" />
    <meta name="author" content="Ilgiz Mustafin" />
    <meta property="og:locale" content="en_US" />
    <meta
      name="description"
      content="Doom source port in Eiffel with Design by Contract"
    />
    <meta
      property="og:description"
      content="Doom source port in Eiffel with Design by Contract"
    />
    <link rel="canonical" href="https://briedoom.imustafin.tatar/" />
    <meta property="og:url" content="https://briedoom.imustafin.tatar/" />
    <meta property="og:site_name" content="Brie Doom" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="Brie Doom" />
    <script type="application/ld+json">
      {
        "author": {
          "@type": "Person",
          "name": "Ilgiz Mustafin",
          "url": "https://imustafin.tatar"
        },
        "description": "Doom source port in Eiffel with Design by Contract",
        "url": "https://briedoom.imustafin.tatar/",
        "@type": "WebSite",
        "headline": "Brie Doom",
        "sameAs": ["https://github.com/imustafin/brie_doom"],
        "name": "Brie Doom",
        "@context": "https://schema.org"
      }
    </script>
    <!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/tailwind.css" />
    <link rel="stylesheet" href="/assets/css/main.css" />
    <link rel="stylesheet" href="/assets/css/syntax.css" />
  </head>

  <body class="bg-california-50">
    <header
      class="px-4 lg:px-8 h-14 bg-california-500 flex flex-row items-center content-start mb-4"
    >
      <span class="flex items-baseline">
        <a href="/" class="reset nounder font-bold flex-grow text-2xl">
          Brie Doom
        </a>
        <span class="hidden sm:inline-block text-xl">
          &nbsp;&mdash; a Doom source port in Eiffel
        </span>
      </span>
      <a
        href="https://github.com/imustafin/brie_doom"
        class="reset ml-auto flex items-center mr-4 font-bold"
      >
        <span class="md:hidden"> Sources </span>
        <span class="hidden md:inline-block"> Source Code </span>
      </a>
      <a href="/documentation" class="reset flex items-center font-bold">
        <span class="sm:hidden"> Docs </span>
        <span class="hidden sm:inline-block"> Documentation </span>
      </a>
    </header>

    <div class="container mx-auto px-2 sm:px-4 md:px-4">
      <article class="prose md:prose-xl max-w-4xl mx-auto">
        <h1 class="text-center">Welcome to Brie Doom!</h1>

        <p>
          Brie Doom is a source port of the original Doom source code from C to
          Eiffel. The aim of this port is to produce idiomatic object-oriented
          Eiffel code with contracts while maintaining the original experience
          of playing vanilla Doom.
        </p>
        <p>
          This project is an example of applying
          <a href="https://en.wikipedia.org/wiki/Design_by_contract"
            >Design by Contract</a
          >
          (DbC) in game development. Already in the current phase of development
          we managed to find several bugs in the original game thanks to DbC.
        </p>
        <p>
          Brie Dooom uses SDL2 library instead of the original X11. The SDL2
          support is based on
          <a href="https://www.chocolate-doom.org/">Chocolate&nbsp;Doom</a>.
        </p>
        <p>
          Converting procedual C code to the object-oriented paradigm of Eiffel
          introduces several challenges. Examples of such challenges are known
          in scientific literature. Also, some specifics of converting Doom to
          non-C languages are also presented on Mocha Doom website's
          <a href="http://mochadoom.sourceforge.net/tech.html"
            >Programming page</a
          >.
        </p>
        <p>Brie is pronounced /briÀê/ like in brie cheese.</p>
        <p>Stay tuned for further updates!</p>

        <h2 class="text-center">Development Progress</h2>

        <div class="space-y-2 mb-2">
          <h3 class="font-bold">Phase 1: Direct Port (in progress)</h3>
          <p>
            In the first phase, we try to port the game while preserving as much
            of the original code structure as possible.
          </p>
          <div class="w-full bg-california-200 h-6 flex">
            <div
              class="bg-california-500 text-center text-white h-full text-base"
              style="width: 56.7%"
            >
              56.7%
            </div>
            <div
              class="bg-california-400 text-center text-white h-full text-base"
              style="width: 12.13%"
            >
              12.13%
            </div>
          </div>
          <p>
            Currently 56.7% of the original functions are ported in Eiffel.
            Additionally, 12.13% function are stubbed.
          </p>
          <p>
            Not all original functions are counted, though. Some of them are are
            related to X11 which is replaced with SDL2 in the port.
          </p>
          <p>
            See the
            <a href="/ported-functions-breakdown">Ported Functions Breakdown</a>
            page for a detailed analysis.
          </p>
          <p>
            Also, see the <a href="/performance">Performance</a>
            page for FPS comparison of the port with different contract sets.
          </p>

          <h3 class="font-bold pt-4">Phase 2: Refactoring (not started)</h3>
          <p>
            In the second phase, we will refactor the code to improve quality.
          </p>

          <p>
            The main objective of this project is improving quality of the
            original code. In the context of
            <a
              href="https://iso25000.com/index.php/en/iso-25000-standards/iso-25010"
              >ISO 25010</a
            >
            quality model, we mostly aim at improving the overall
            <i>maintainability</i> and <i>functional stability</i>. To achieve
            these goals we will use features and principles implemented in
            Eiffel such as Design by Contract, Void Safety, Command-Query
            Separation and OOP practices overall.
          </p>

          <p>
            Implementing these principles will require modification of the
            original code structure such as extracting more classes, converting
            functions to commands or queries, rethinking module obligations for
            implementing concise but effective contracts.
          </p>

          <h2 class="text-center">Posts</h2>

          <ul>
            <li>
              <a href="/2021/09/18/possible-npd-in-p_grouplines.html"
                >Possible NPD with frontsector of line_t</a
              >
            </li>

            <li>
              <a href="/2021/09/18/oob-array-reads-in-r_drawcolumn.html"
                >OOB array reads in R_DrawColumn</a
              >
            </li>

            <li>
              <a href="/2021/09/16/ub-pointer-one-before-first-array.html"
                >UB with pointer to one-before-first of array</a
              >
            </li>
          </ul>
        </div>
      </article>

      <footer class="px-4 flex flex-col items-center text-center pb-2">
        <hr class="border border-california-400 w-11/12 mb-4 mt-8" />
        <p class="mb-2">
          Brie Doom is written by
          <a href="https://imustafin.tatar">Ilgiz Mustafin</a>
        </p>
        <p class="mb-2">
          Source code is
          <a href="https://github.com/imustafin/brie_doom"
            >available on GitHub</a
          >
        </p>
        <p>
          Parts of the program are based on
          <a href="https://www.chocolate-doom.org/">Chocolate&nbsp;Doom</a> and
          <a href="http://mochadoom.sourceforge.net/">Mocha&nbsp;Doom</a>
        </p>
      </footer>
    </div>
  </body>
</html>
