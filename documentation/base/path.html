<!DOCTYPE html>
<html>
<head>
<meta name="robots" content="noindex">
<meta name="generator" content="ISE EiffelStudio version 19.05.10.3187 GPL Edition - linux-x86-64">
<meta name="description" content="TTTObjects representing a path, i.e. a way to identify a file or a directory for the TTTcurrent underlying platform. A path is made of two components: TTT1 - an optional root which can either be: TTTTa - a drive letter followed by colon on Windows, i.e. C: or C:\ TTTTb - / for UNIX root directory. TTTTc - \ for Windows root directory. TTTTd - \\server\share or \\server\share\ for Microsoft UNC path. TTT2 - a sequence of zero or more names. TTT TTTA path is absolute if it has a root, and on windows if the root is a drive, then it should TTTbe followed by \. Otherwise a path is relative.   TTTValidity TTT======== TTT TTTThe current class will not check the validity of filenames. Check your file TTTsystem for your operating system manual for the list of invalid characters.   TTTWindows consideration TTT===================== TTT TTTWhen the root of a Windows path is a drive, be aware of the following behavior: TTT1 - C:filename.txt refers to the file name filename.txt in the current directory  TTT    on drive C:. TTT2 - C:sub\filename.txt refers to the file name filename.txt in a subdirectory sub TTT    of the current directory on drive C:. TTT3 - C:\sub\filename.txt refers to the file name filename.txt in a subdirectory sub TTT    located at the root of the drive C:. TTT TTTBoth forward and backslashes are accepted, but forward slashes are internally converted TTTto backward slashes whenever they are used to construct a path. TTT TTTOn Windows, there is a limit of 259 characters for a path. If you need to create a larger TTTpath, you can do so by using the following conventions which will let you have paths of TTTabout 32,767 characters: TTT1 - Use \\?\ for non-UNC path and let the rest unchanged. TTT2 - Use \\?\UNC\server\share for UNC path and let the rest unchanged. TTTThe above path cannot be used to specify a relative path. TTT TTTTo know more about Windows paths, read the Naming Files, Paths, and Namespaces TTTdocument located at: TTT  http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx   TTTUnicode consideration TTT===================== TTT TTTThe PATH class treats strings as sequence of Unicode characters, i.e. an instance of  TTTa READABLE_STRING_8 or descendant will be treated as if characters in the range TTT128 .. 255 were Unicode code points. TTTThis contrasts to the FILE/DIRECTORY classes where to preserve backward compatibility, those TTTcharacters are treated as is. TTT TTT TTTMixed-encoding consideration TTT============================ TTT TTTMost operating systems have conventions for paths that are incompatible with Unicode. TTTOn UNIX, in a sequence of names, each name is just a null-terminated byte sequence, it TTTdoes not follow any specific encoding. Usually the locale setting enables you to see TTTthe filename the way you expect. TTTOn Windows, the sequence of names is made of null-terminated UTF-16 code unit sequence. Windows TTTdoes not guarantee that the sequence is actually a valid UTF-16 sequence. TTT TTTIn other words, when there is an invalid UTF-8 encoding on UNIX, or an invalid UTF-16 encoding TTTon Windows, the filename is not directly representable as a Unicode string. To make it possible TTTto create and store paths in a textually representable form, the query `name' will create TTTan encoded representation that can be then later used in `make_from_string' to create a PATH TTTequivalent to the original path. The encoding is described in UTF_CONVERTER's note clause TTTand is a fourth variant of the recommended practice for replacement characters in Unicode TTT(see http://www.unicode.org/review/pr-121.html).  TTTTTT TTTImmutability TTT============ TTT TTTInstances of the current class are immutable."/>
<meta name="library" content="Free implementation of ELKS library"/>
<meta name="keywords" content="Eiffel class"/>
<meta name="copyright" content="Copyright (c) 1984-2017, Eiffel Software and others"/>
<meta name="license" content="Eiffel Forum License v2 (see http://www.eiffel.com/licensing/forum.txt)"/>
<meta name="source" content="Eiffel Software 5949 Hollister Ave., Goleta, CA 93117 USA Telephone 805-685-1006, Fax 805-685-6869 Website http://www.eiffel.com Customer support http://support.eiffel.com"/>
<meta name="keywords" content="Eiffel class"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet">
<title>path Text</title>
<link rel="stylesheet" href="../default.css" type="text/css">
<script type="text/javascript" src="../goto.html"></script>
</head>
<body>
<pre></pre><form class="nav" onsubmit="go_to('../',this.c.value);return false;">
<div class="nav">
<a class="nav hierarchy" href="../class_list.html">Classes</a>
<a class="nav hierarchy" href="../cluster_list.html">Clusters</a>
<a class="nav hierarchy" href="../cluster_hierarchy.html">Cluster hierarchy</a>
<a class="nav class" href="path_chart.html">Chart</a>
<a class="nav class" href="path_links.html">Relations</a>
<span class="nav class selected">Text</span>
<span class="nav class goto">Go to: <input name="c" value="path"></span>
</div></form><pre><span class="ekeyword">note</span>
	<span class="eitag">description</span><span class="esymbol">:</span> <span class="estring">&quot;</span><span class="estring">[</span>
		<span class="estring">			Objects representing a path, i.e. a way to identify a file or a directory for the</span>
		<span class="estring">			current underlying platform. A path is made of two components:</span>
		<span class="estring">			1 - an optional root which can either be:</span>
		<span class="estring">				a - a drive letter followed by colon on Windows, i.e. &quot;C:&quot; or &quot;C:\&quot;</span>
		<span class="estring">				b - &quot;/&quot; for UNIX root directory.</span>
		<span class="estring">				c - &quot;\&quot; for Windows root directory.</span>
		<span class="estring">				d - &quot;\\server\share&quot; or &quot;\\server\share\&quot; for Microsoft UNC path.</span>
		<span class="estring">			2 - a sequence of zero or more names.</span>
		<span class="estring">			</span>
		<span class="estring">			A path is absolute if it has a root, and on windows if the root is a drive, then it should</span>
		<span class="estring">			be followed by &quot;\&quot;. Otherwise a path is relative.</span>
		
		
		<span class="estring">			Validity</span>
		<span class="estring">			========</span>
		<span class="estring">			</span>
		<span class="estring">			The current class will not check the validity of filenames. Check your file</span>
		<span class="estring">			system for your operating system manual for the list of invalid characters.</span>
		
		
		<span class="estring">			Windows consideration</span>
		<span class="estring">			=====================</span>
		<span class="estring">			</span>
		<span class="estring">			When the root of a Windows path is a drive, be aware of the following behavior:</span>
		<span class="estring">			1 - &quot;C:filename.txt&quot; refers to the file name &quot;filename.txt&quot; in the current directory </span>
		<span class="estring">			 &nbsp;&nbsp;&nbsp;on drive &quot;C:&quot;.</span>
		<span class="estring">			2 - &quot;C:sub\filename.txt&quot; refers to the file name &quot;filename.txt&quot; in a subdirectory &quot;sub&quot;</span>
		<span class="estring">			 &nbsp;&nbsp;&nbsp;of the current directory on drive &quot;C:&quot;.</span>
		<span class="estring">			3 - &quot;C:\sub\filename.txt&quot; refers to the file name &quot;filename.txt&quot; in a subdirectory &quot;sub&quot;</span>
		<span class="estring">			 &nbsp;&nbsp;&nbsp;located at the root of the drive &quot;C:&quot;.</span>
		<span class="estring">			</span>
		<span class="estring">			Both forward and backslashes are accepted, but forward slashes are internally converted</span>
		<span class="estring">			to backward slashes whenever they are used to construct a path.</span>
		<span class="estring">			</span>
		<span class="estring">			On Windows, there is a limit of 259 characters for a path. If you need to create a larger</span>
		<span class="estring">			path, you can do so by using the following conventions which will let you have paths of</span>
		<span class="estring">			about 32,767 characters:</span>
		<span class="estring">			1 - Use \\?\ for non-UNC path and let the rest unchanged.</span>
		<span class="estring">			2 - Use \\?\UNC\server\share for UNC path and let the rest unchanged.</span>
		<span class="estring">			The above path cannot be used to specify a relative path.</span>
		<span class="estring">			</span>
		<span class="estring">			To know more about Windows paths, read the &quot;Naming Files, Paths, and Namespaces&quot;</span>
		<span class="estring">			document located at:</span>
		<span class="estring">			 &nbsp;</span><a class="estring" href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247">http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247</a><span class="estring">(v=vs.85).aspx</span>
		
		
		<span class="estring">			Unicode consideration</span>
		<span class="estring">			=====================</span>
		<span class="estring">			</span>
		<span class="estring">			The PATH class treats strings as sequence of Unicode characters, i.e. an instance of </span>
		<span class="estring">			a READABLE_STRING_8 or descendant will be treated as if characters in the range</span>
		<span class="estring">			128 .. 255 were Unicode code points.</span>
		<span class="estring">			This contrasts to the FILE/DIRECTORY classes where to preserve backward compatibility, those</span>
		<span class="estring">			characters are treated as is.</span>
		<span class="estring">			</span>
		<span class="estring">			</span>
		<span class="estring">			Mixed-encoding consideration</span>
		<span class="estring">			============================</span>
		<span class="estring">			</span>
		<span class="estring">			Most operating systems have conventions for paths that are incompatible with Unicode.</span>
		<span class="estring">			On UNIX, in a sequence of names, each name is just a null-terminated byte sequence, it</span>
		<span class="estring">			does not follow any specific encoding. Usually the locale setting enables you to see</span>
		<span class="estring">			the filename the way you expect.</span>
		<span class="estring">			On Windows, the sequence of names is made of null-terminated UTF-16 code unit sequence. Windows</span>
		<span class="estring">			does not guarantee that the sequence is actually a valid UTF-16 sequence.</span>
		<span class="estring">			</span>
		<span class="estring">			In other words, when there is an invalid UTF-8 encoding on UNIX, or an invalid UTF-16 encoding</span>
		<span class="estring">			on Windows, the filename is not directly representable as a Unicode string. To make it possible</span>
		<span class="estring">			to create and store paths in a textually representable form, the query </span><a class="efeature" href="../base/path.html#f_name">name</a><span class="estring"> will create</span>
		<span class="estring">			an encoded representation that can be then later used in </span><a class="efeature" href="../base/path.html#f_make_from_string">make_from_string</a><span class="estring"> to create a PATH</span>
		<span class="estring">			equivalent to the original path. The encoding is described in UTF_CONVERTER's note clause</span>
		<span class="estring">			and is a fourth variant of the recommended practice for replacement characters in Unicode</span>
		<span class="estring">			(see </span><a class="estring" href="http://www.unicode.org/review/pr-121.html">http://www.unicode.org/review/pr-121.html</a><span class="estring">).</span>
		
		<span class="estring">						</span>
		<span class="estring">			Immutability</span>
		<span class="estring">			============</span>
		<span class="estring">			</span>
		<span class="estring">			Instances of the current class are immutable.</span>
	<span class="estring">]</span><span class="estring">&quot;</span>
	<span class="eitag">library</span><span class="esymbol">:</span> <span class="estring">&quot;Free implementation of ELKS library&quot;</span>
	<span class="eitag">status</span><span class="esymbol">:</span> <span class="estring">&quot;See notice at end of class.&quot;</span>
	<span class="eitag">date</span><span class="esymbol">:</span> <span class="estring">&quot;$Date: 2017-03-23 19:18:26 +0000 (Thu, 23 Mar 2017) $&quot;</span>
	<span class="eitag">revision</span><span class="esymbol">:</span> <span class="estring">&quot;$Revision: 100033 $&quot;</span>

<span class="ekeyword">class</span> 
	<a class="eclass" href="../base/path.html">PATH</a>

<span class="ekeyword">inherit</span>
	<a class="eclass" href="../base/hashable.html">HASHABLE</a>
		<span class="ekeyword">redefine</span>
			<a class="efeature" href="../base/path.html#f_out">out</a><span class="esymbol">,</span>
			<a class="efeature" href="../base/path.html#f_is_equal">is_equal</a><span class="esymbol">,</span>
			<a class="efeature" href="../base/path.html#f_copy">copy</a>
		<span class="ekeyword">end</span>

	<a class="eclass" href="../base/comparable.html">COMPARABLE</a>
		<span class="ekeyword">redefine</span>
			<a class="efeature" href="../base/path.html#f_out">out</a><span class="esymbol">,</span>
			<a class="efeature" href="../base/path.html#f_is_equal">is_equal</a><span class="esymbol">,</span>
			<a class="efeature" href="../base/path.html#f_copy">copy</a>
		<span class="ekeyword">end</span>

	<a class="eclass" href="../base/native_string_handler.html">NATIVE_STRING_HANDLER</a>
		<span class="ekeyword">redefine</span>
			<a class="efeature" href="../base/path.html#f_out">out</a><span class="esymbol">,</span>
			<a class="efeature" href="../base/path.html#f_is_equal">is_equal</a><span class="esymbol">,</span>
			<a class="efeature" href="../base/path.html#f_copy">copy</a>
		<span class="ekeyword">end</span>

	<a class="eclass" href="../base/debug_output.html">DEBUG_OUTPUT</a>
		<span class="ekeyword">redefine</span>
			<a class="efeature" href="../base/path.html#f_out">out</a><span class="esymbol">,</span>
			<a class="efeature" href="../base/path.html#f_is_equal">is_equal</a><span class="esymbol">,</span>
			<a class="efeature" href="../base/path.html#f_copy">copy</a>
		<span class="ekeyword">end</span>

<span class="ekeyword">create</span> <span class="esymbol">{</span><a class="eclass" href="../base/native_string_handler.html">NATIVE_STRING_HANDLER</a><span class="esymbol">}</span>
	<a class="efeature" href="../base/path.html#f_make_from_pointer">make_from_pointer</a>


<span class="ekeyword">create</span> <span class="esymbol">{</span><a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">}</span>
	<a class="efeature" href="../base/path.html#f_make_from_storage">make_from_storage</a><span class="esymbol">,</span>
	<a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a>


<span class="ekeyword">create</span> 
	<a class="efeature" href="../base/path.html#f_make_empty">make_empty</a><span class="esymbol">,</span>
	<a class="efeature" href="../base/path.html#f_make_current">make_current</a><span class="esymbol">,</span>
	<a class="efeature" href="../base/path.html#f_make_from_string">make_from_string</a><span class="esymbol">,</span>
	<a class="efeature" href="../base/path.html#f_make_from_separate">make_from_separate</a>

<span class="ekeyword">feature</span> <span class="esymbol">{</span>NONE<span class="esymbol">}</span> <span class="ecomment">--</span><span class="ecomment"> Initialization</span>

	<a name="f_make_empty"></a><a class="efeature" href="../base/path.html#f_make_empty">make_empty</a>
			<span class="ecomment">--</span><span class="ecomment"> Initialize current as an empty path.</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">create</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_make_empty">make_empty</a>
			<a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
			<a class="efeature" href="../base/path.html#f_reset_internal_data">reset_internal_data</a>
		<span class="ekeyword">ensure</span>
			<span class="etag">is_empty</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a>
			<span class="etag">is_normalized</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a>
		<span class="ekeyword">end</span>

	<a name="f_make_current"></a><a class="efeature" href="../base/path.html#f_make_current">make_current</a>
			<span class="ecomment">--</span><span class="ecomment"> Initialize current as the symbolic representation of the current working directory</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">create</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_make">make</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span>
			<a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_character">append_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="echar">'.'</span><span class="esymbol">)</span>
			<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
				<a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_character">append_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="echar">'%U'</span><span class="esymbol">)</span>
			<span class="ekeyword">end</span>
			<a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
			<a class="efeature" href="../base/path.html#f_reset_internal_data">reset_internal_data</a>
		<span class="ekeyword">ensure</span>
			<span class="etag">not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a>
			<span class="etag">is_normalized</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a>
			<span class="etag">is_current</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_is_current_symbol">is_current_symbol</a>
		<span class="ekeyword">end</span>

	<a name="f_make_from_string"></a><a class="efeature" href="../base/path.html#f_make_from_string">make_from_string</a> <span class="esymbol">(</span><span class="elocal">a_path</span><span class="esymbol">:</span> <a class="eclass" href="../base/readable_string_general.html">READABLE_STRING_GENERAL</a><span class="esymbol">)</span>
			<span class="ecomment">--</span><span class="ecomment"> Initialize current from </span><span class="equoted">a_path</span><span class="ecomment"> treated as a sequence of Unicode characters.</span>
			<span class="ecomment">--</span><span class="ecomment"> If </span><span class="equoted">a_path</span><span class="ecomment"> is trying to represent a mixed-encoded path, then </span><span class="equoted">a_path</span><span class="ecomment"> should use</span>
			<span class="ecomment">--</span><span class="ecomment"> the escaped representation as described in UTF_CONVERTER.</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_path_not_void</span><span class="esymbol">:</span> <span class="elocal">a_path</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">create</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_make">make</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_product">*</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span>
			<span class="ekeyword">if</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_is_empty">is_empty</a> <span class="ekeyword">then</span>
				<a class="efeature" href="../base/path.html#f_internal_append_into">internal_append_into</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="elocal">a_path</span><span class="esymbol">,</span> <span class="echar">'%U'</span><span class="esymbol">)</span>
				<a class="efeature" href="../base/path.html#f_normalize">normalize</a>
			<span class="ekeyword">else</span>
				<a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
			<span class="ekeyword">end</span>
			<a class="efeature" href="../base/path.html#f_reset_internal_data">reset_internal_data</a>
		<span class="ekeyword">ensure</span>
			<span class="etag">not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_is_empty">is_empty</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a>
			<span class="etag">is_normalized</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a>
			<span class="etag">roundtrip</span><span class="esymbol">:</span> <span class="ekeyword">True</span>
			<span class="etag">roundtrip_with_trailing</span><span class="esymbol">:</span> <span class="ekeyword">True</span>
		<span class="ekeyword">end</span>

	<a name="f_make_from_separate"></a><a class="efeature" href="../base/path.html#f_make_from_separate">make_from_separate</a> <span class="esymbol">(</span><span class="elocal">a_path</span><span class="esymbol">:</span> <span class="ekeyword">separate</span> <a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">)</span>
			<span class="ecomment">--</span><span class="ecomment"> Initialize from separate </span><span class="equoted">a_path</span><span class="ecomment">.</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_path_not_void</span><span class="esymbol">:</span> <span class="elocal">a_path</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">create</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_make_from_separate">make_from_separate</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span>
			<a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
			<a class="efeature" href="../base/path.html#f_reset_internal_data">reset_internal_data</a>
		<span class="ekeyword">ensure</span>
			<span class="etag">not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_empty">is_empty</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a>
			<span class="etag">is_normalized</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">feature</span> <span class="esymbol">{</span>NONE<span class="esymbol">}</span> <span class="ecomment">--</span><span class="ecomment"> Internal initialization</span>

	<a name="f_make_from_storage"></a><a class="efeature" href="../base/path.html#f_make_from_storage">make_from_storage</a> <span class="esymbol">(</span><span class="elocal">a_path</span><span class="esymbol">:</span> <a class="eclass" href="../base/string_8.html">STRING_8</a><span class="esymbol">)</span>
			<span class="ecomment">--</span><span class="ecomment"> Initialize current from </span><span class="equoted">a_path</span><span class="ecomment"> and normalize </span><span class="equoted">a_path</span><span class="ecomment"> as it may be coming</span>
			<span class="ecomment">--</span><span class="ecomment"> from a user provided string or from a C API.</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_path_not_void</span><span class="esymbol">:</span> <span class="elocal">a_path</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
		<span class="ekeyword">do</span>
			<a class="efeature" href="../base/path.html#f_storage">storage</a> <span class="esymbol">:=</span> <span class="elocal">a_path</span>
			<a class="efeature" href="../base/path.html#f_normalize">normalize</a>
			<a class="efeature" href="../base/path.html#f_reset_internal_data">reset_internal_data</a>
		<span class="ekeyword">ensure</span>
			<span class="etag">shared</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_storage">storage</a> <span class="esymbol">=</span> <span class="elocal">a_path</span>
			<span class="etag">is_normalized</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a>
		<span class="ekeyword">end</span>

	<a name="f_make_from_normalized_storage"></a><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a> <span class="esymbol">(</span><span class="elocal">a_path</span><span class="esymbol">:</span> <a class="eclass" href="../base/string_8.html">STRING_8</a><span class="esymbol">)</span>
			<span class="ecomment">--</span><span class="ecomment"> Initialize current from </span><span class="equoted">a_path</span><span class="ecomment"> which has already been normalized.</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_path_not_void</span><span class="esymbol">:</span> <span class="elocal">a_path</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
		<span class="ekeyword">do</span>
			<a class="efeature" href="../base/path.html#f_storage">storage</a> <span class="esymbol">:=</span> <span class="elocal">a_path</span>
			<a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
			<a class="efeature" href="../base/path.html#f_reset_internal_data">reset_internal_data</a>
		<span class="ekeyword">ensure</span>
			<span class="etag">shared</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_storage">storage</a> <span class="esymbol">=</span> <span class="elocal">a_path</span>
			<span class="etag">is_normalized</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a>
		<span class="ekeyword">end</span>

	<a name="f_make_from_pointer"></a><a class="efeature" href="../base/path.html#f_make_from_pointer">make_from_pointer</a> <span class="esymbol">(</span><span class="elocal">a_path_pointer</span><span class="esymbol">:</span> <a class="eclass" href="../base/pointer.html">POINTER</a><span class="esymbol">)</span>
			<span class="ecomment">--</span><span class="ecomment"> Initialize current from </span><span class="equoted">a_path_pointer</span><span class="ecomment">, a platform system specific encoding of</span>
			<span class="ecomment">--</span><span class="ecomment"> a path that is null-terminated.</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_path_pointer_not_null</span><span class="esymbol">:</span> <span class="elocal">a_path_pointer</span> <span class="esymbol">/=</span> <a class="efeature" href="../base/any.html#f_default_pointer">default_pointer</a>
		<span class="ekeyword">local</span>
			<span class="elocal">l_cstr</span><span class="esymbol">:</span> <a class="eclass" href="../base/c_string.html">C_STRING</a>
			<span class="elocal">nb</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
		<span class="ekeyword">do</span>
			<span class="elocal">nb</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/native_string_handler.html#f_pointer_length_in_bytes">pointer_length_in_bytes</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_path_pointer</span><span class="esymbol">)</span>
			<span class="elocal">nb</span> <span class="esymbol">:=</span> <span class="elocal">nb</span> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <span class="elocal">nb</span> <a class="esymbol" href="../base/integer_32.html#f_integer_remainder">\\</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a>
			<span class="ekeyword">create</span> <span class="elocal">l_cstr</span><span class="edot">.</span><a class="efeature" href="../base/c_string.html#f_make_shared_from_pointer_and_count">make_shared_from_pointer_and_count</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_path_pointer</span><span class="esymbol">,</span> <span class="elocal">nb</span><span class="esymbol">)</span>
			<a class="efeature" href="../base/path.html#f_storage">storage</a> <span class="esymbol">:=</span> <span class="elocal">l_cstr</span><span class="edot">.</span><a class="efeature" href="../base/c_string.html#f_substring">substring</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">,</span> <span class="elocal">nb</span><span class="esymbol">)</span>
			<span class="ekeyword">if</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/finite.html#f_is_empty">is_empty</a> <span class="ekeyword">then</span>
				<a class="efeature" href="../base/path.html#f_normalize">normalize</a>
			<span class="ekeyword">end</span>
			<a class="efeature" href="../base/path.html#f_reset_internal_data">reset_internal_data</a>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">feature</span> <span class="ecomment">--</span><span class="ecomment"> Status report</span>

	<a name="f_is_current_symbol"></a><a class="efeature" href="../base/path.html#f_is_current_symbol">is_current_symbol</a><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Is Current a representation of &quot;.&quot;?</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="esymbol">=</span> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="enumber">1</span><span class="esymbol">,</span> <span class="echar">'.'</span><span class="esymbol">)</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_is_parent_symbol"></a><a class="efeature" href="../base/path.html#f_is_parent_symbol">is_parent_symbol</a><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Is Current Representation of &quot;..&quot;?</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="esymbol">=</span> <span class="enumber">2</span> <a class="esymbol" href="../base/integer_32.html#f_product">*</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="enumber">1</span><span class="esymbol">,</span> <span class="echar">'.'</span><span class="esymbol">)</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="enumber">1</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">,</span> <span class="echar">'.'</span><span class="esymbol">)</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_has_root"></a><a class="efeature" href="../base/path.html#f_has_root">has_root</a><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Does current have a root?</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a> <span class="esymbol">/=</span> <span class="enumber">0</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">defintion</span><span class="esymbol">:</span> <span class="ekeyword">Result</span> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a>
		<span class="ekeyword">end</span>

	<a name="f_is_empty"></a><a class="efeature" href="../base/path.html#f_is_empty">is_empty</a><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Is current empty, i.e. no root and no sequence of names?</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/finite.html#f_is_empty">is_empty</a>
		<span class="ekeyword">end</span>

	<a name="f_is_relative"></a><a class="efeature" href="../base/path.html#f_is_relative">is_relative</a><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Is current path relative?</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_absolute">is_absolute</a>
		<span class="ekeyword">end</span>

	<a name="f_is_absolute"></a><a class="efeature" href="../base/path.html#f_is_absolute">is_absolute</a><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Is current path absolute?</span>
		<span class="ekeyword">local</span>
			<span class="elocal">l_root_end_position</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
		<span class="ekeyword">do</span>
			<span class="elocal">l_root_end_position</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a>
			<span class="ekeyword">if</span> <span class="elocal">l_root_end_position</span> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="enumber">0</span> <span class="ekeyword">then</span>
				<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
					<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="elocal">l_root_end_position</span> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span>
				<span class="ekeyword">else</span>
					<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_is_simple"></a><a class="efeature" href="../base/path.html#f_is_simple">is_simple</a><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Is current path made of only one name and no root?</span>
			<span class="ecomment">--</span><span class="ecomment"> I.e. readme.txt, usr or the empty path.</span>
		<span class="ekeyword">local</span>
			<span class="elocal">l_root_pos</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/finite.html#f_is_empty">is_empty</a> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
			<span class="ekeyword">else</span>
				<span class="elocal">l_root_pos</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a>
				<span class="ekeyword">if</span> <span class="elocal">l_root_pos</span> <span class="esymbol">=</span> <span class="enumber">0</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a> <span class="ekeyword">then</span>
					<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_next_directory_separator">next_directory_separator</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="enumber">0</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_is_same_file_as"></a><a class="efeature" href="../base/path.html#f_is_same_file_as">is_same_file_as</a> <span class="esymbol">(</span><span class="elocal">a_path</span><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Does </span><span class="equoted">Current</span><span class="ecomment"> and </span><span class="equoted">a_path</span><span class="ecomment"> points to the same file on disk? It is different from path equality</span>
			<span class="ecomment">--</span><span class="ecomment"> as it will take into account symbolic links.</span>
			<span class="ecomment">--</span><span class="ecomment"> If </span><span class="equoted">Current</span><span class="ecomment"> or/and </span><span class="equoted">a_path</span><span class="ecomment"> do not exists, it will yield false, otherwise it will compare</span>
			<span class="ecomment">--</span><span class="ecomment"> the file at the file system level.</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_path_not_void</span><span class="esymbol">:</span> <span class="elocal">a_path</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
		<span class="ekeyword">local</span>
			<span class="elocal">l_p1</span><span class="esymbol">,</span> <span class="elocal">l_p2</span><span class="esymbol">:</span> <a class="eclass" href="../base/managed_pointer.html">MANAGED_POINTER</a>
		<span class="ekeyword">do</span>
			<span class="elocal">l_p1</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_to_pointer">to_pointer</a>
			<span class="elocal">l_p2</span> <span class="esymbol">:=</span> <span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_to_pointer">to_pointer</a>
			<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_c_same_files">c_same_files</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_p1</span><span class="edot">.</span><a class="efeature" href="../base/managed_pointer.html#f_item">item</a><span class="esymbol">,</span> <span class="elocal">l_p2</span><span class="edot">.</span><a class="efeature" href="../base/managed_pointer.html#f_item">item</a><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_has_extension"></a><a class="efeature" href="../base/path.html#f_has_extension">has_extension</a> <span class="esymbol">(</span><span class="elocal">a_ext</span><span class="esymbol">:</span> <a class="eclass" href="../base/readable_string_general.html">READABLE_STRING_GENERAL</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Does </span><span class="equoted">Current</span><span class="ecomment"> has an extension </span><span class="equoted">a_ext</span><span class="ecomment"> compared in a case insensitive manner?</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_ext_not_void</span><span class="esymbol">:</span> <span class="elocal">a_ext</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
			<span class="etag">a_ext_not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_ext</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_is_empty">is_empty</a>
			<span class="etag">a_ext_has_no_dot</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_ext</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_has">has</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="echar">'.'</span><span class="edot">.</span><a class="efeature" href="../base/character_8.html#f_to_character_32">to_character_32</a><span class="esymbol">)</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">attached</span> <a class="efeature" href="../base/path.html#f_extension">extension</a> <span class="ekeyword">as</span> l_ext <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <span class="elocal">l_ext</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_is_case_insensitive_equal">is_case_insensitive_equal_general</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_ext</span><span class="esymbol">)</span>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">feature</span> <span class="ecomment">--</span><span class="ecomment"> Access</span>

	<a name="f_root"></a><a class="efeature" href="../base/path.html#f_root">root</a><span class="esymbol">:</span> <span class="ekeyword">detachable</span> <a class="eclass" href="../base/path.html">PATH</a>
			<span class="ecomment">--</span><span class="ecomment"> Root if any of current path.</span>
		<span class="ekeyword">local</span>
			<span class="elocal">l_pos</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
		<span class="ekeyword">do</span>
			<span class="elocal">l_pos</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a>
			<span class="ekeyword">if</span> <span class="elocal">l_pos</span> <span class="esymbol">/=</span> <span class="enumber">0</span> <span class="ekeyword">then</span>
				<span class="ekeyword">if</span> <span class="elocal">l_pos</span> <span class="esymbol">=</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="ekeyword">then</span>
					<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span>
				<span class="ekeyword">else</span>
					<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_substring">substring</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">,</span> <span class="elocal">l_pos</span><span class="esymbol">)</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">has_root_implies_not_void</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_has_root">has_root</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="ekeyword">Result</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
		<span class="ekeyword">end</span>

	<a name="f_parent"></a><a class="efeature" href="../base/path.html#f_parent">parent</a><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a>
			<span class="ecomment">--</span><span class="ecomment"> Parent directory if any, otherwise current working path.</span>
			<span class="ecomment">--</span><span class="ecomment"> The parent of a path consists of </span><a class="efeature" href="../base/path.html#f_root">root</a><span class="ecomment"> if any, and of each</span>
			<span class="ecomment">--</span><span class="ecomment"> simple names in the current sequence except for the last.</span>
		<span class="ekeyword">local</span>
			<span class="elocal">l_pos</span><span class="esymbol">,</span> <span class="elocal">l_root_end_pos</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
		<span class="ekeyword">do</span>
			<span class="elocal">l_pos</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_end_position_of_last_directory_separator">end_position_of_last_directory_separator</a>
			<span class="ekeyword">if</span> <span class="elocal">l_pos</span> <span class="esymbol">=</span> <span class="enumber">0</span> <span class="ekeyword">then</span>
				<span class="ekeyword">if</span> <span class="ekeyword">attached</span> <a class="efeature" href="../base/path.html#f_root">root</a> <span class="ekeyword">as</span> l_root <span class="ekeyword">then</span>
					<span class="ekeyword">check</span>
						<span class="etag">is_windows</span><span class="esymbol">:</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a>
					<span class="ekeyword">end</span>
					<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">l_root</span>
				<span class="ekeyword">else</span>
					<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_current">make_current</a>
				<span class="ekeyword">end</span>
			<span class="ekeyword">elseif</span> <span class="elocal">l_pos</span> <span class="esymbol">=</span> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <span class="ekeyword">then</span>
				<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_substring">substring</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span><span class="esymbol">)</span>
			<span class="ekeyword">else</span>
				<span class="elocal">l_root_end_pos</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a>
				<span class="ekeyword">if</span> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/comparable.html#f_is_less_equal">&lt;=</a> <span class="elocal">l_root_end_pos</span> <span class="ekeyword">then</span>
					<span class="ekeyword">if</span> <span class="elocal">l_root_end_pos</span> <span class="esymbol">=</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="ekeyword">then</span>
						<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">Current</span>
					<span class="ekeyword">else</span>
						<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_substring">substring</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">,</span> <span class="elocal">l_root_end_pos</span><span class="esymbol">)</span><span class="esymbol">)</span>
					<span class="ekeyword">end</span>
				<span class="ekeyword">else</span>
					<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_substring">substring</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">,</span> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_entry"></a><a class="efeature" href="../base/path.html#f_entry">entry</a><span class="esymbol">:</span> <span class="ekeyword">detachable</span> <a class="eclass" href="../base/path.html">PATH</a>
			<span class="ecomment">--</span><span class="ecomment"> Name of file or directory denoted by Current if any.</span>
			<span class="ecomment">--</span><span class="ecomment"> This is the last name in the current sequence.</span>
		<span class="ekeyword">local</span>
			<span class="elocal">l_pos</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
			<span class="elocal">l_end_root</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
		<span class="ekeyword">do</span>
			<span class="elocal">l_pos</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_end_position_of_last_directory_separator">end_position_of_last_directory_separator</a>
			<span class="ekeyword">if</span> <span class="elocal">l_pos</span> <span class="esymbol">=</span> <span class="enumber">0</span> <span class="ekeyword">then</span>
				<span class="elocal">l_end_root</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a>
				<span class="ekeyword">if</span> <span class="elocal">l_end_root</span> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="enumber">0</span> <span class="ekeyword">then</span>
					<span class="ekeyword">if</span> <span class="elocal">l_end_root</span> <a class="esymbol" href="../base/integer_32.html#f_is_less">&lt;</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="ekeyword">then</span>
						<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_substring">substring</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_end_root</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a><span class="esymbol">)</span><span class="esymbol">)</span>
					<span class="ekeyword">end</span>
				<span class="ekeyword">else</span>
					<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">Current</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">else</span>
				<span class="elocal">l_end_root</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a>
				<span class="ekeyword">if</span> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/comparable.html#f_is_less_equal">&lt;=</a> <span class="elocal">l_end_root</span> <span class="ekeyword">then</span>
					<span class="ekeyword">if</span> <span class="elocal">l_end_root</span> <a class="esymbol" href="../base/integer_32.html#f_is_less">&lt;</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="ekeyword">then</span>
						<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_substring">substring</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_end_root</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a><span class="esymbol">)</span><span class="esymbol">)</span>
					<span class="ekeyword">end</span>
				<span class="ekeyword">else</span>
					<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_substring">substring</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_pos</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a><span class="esymbol">)</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
			<span class="ekeyword">if</span> <span class="ekeyword">Result</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <span class="esymbol">(</span><span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_empty">is_empty</a> <a class="ekeyword" href="../base/boolean.html#f_disjuncted">or</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_current_symbol">is_current_symbol</a> <a class="ekeyword" href="../base/boolean.html#f_disjuncted">or</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_parent_symbol">is_parent_symbol</a><span class="esymbol">)</span> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">Void</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">not_empty</span><span class="esymbol">:</span> <span class="ekeyword">Result</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_empty">is_empty</a>
		<span class="ekeyword">end</span>

	<a name="f_extension"></a><a class="efeature" href="../base/path.html#f_extension">extension</a><span class="esymbol">:</span> <span class="ekeyword">detachable</span> <a class="eclass" href="../base/immutable_string_32.html">IMMUTABLE_STRING_32</a>
			<span class="ecomment">--</span><span class="ecomment"> Extension if any of current entry.</span>
		<span class="ekeyword">local</span>
			<span class="elocal">l_name</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_name">name</a>
			<span class="elocal">l_pos</span><span class="esymbol">,</span> <span class="elocal">nb</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="ekeyword">attached</span> <a class="efeature" href="../base/path.html#f_entry">entry</a> <span class="ekeyword">as</span> l_entry <span class="ekeyword">then</span>
				<span class="elocal">l_name</span> <span class="esymbol">:=</span> <span class="elocal">l_entry</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a>
				<span class="elocal">nb</span> <span class="esymbol">:=</span> <span class="elocal">l_name</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_32.html#f_count">count</a>
				<span class="elocal">l_pos</span> <span class="esymbol">:=</span> <span class="elocal">l_name</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_32.html#f_last_index_of">last_index_of</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="echar">'.'</span><span class="edot">.</span><a class="efeature" href="../base/character_8.html#f_to_character_32">to_character_32</a><span class="esymbol">,</span> <span class="elocal">nb</span><span class="esymbol">)</span>
				<span class="ekeyword">if</span> <span class="elocal">l_pos</span> <span class="esymbol">/=</span> <span class="enumber">0</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <span class="elocal">l_pos</span> <span class="esymbol">/=</span> <span class="elocal">nb</span> <span class="ekeyword">then</span>
					<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">l_name</span><span class="edot">.</span><a class="efeature" href="../base/immutable_string_32.html#f_shared_substring">shared_substring</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_pos</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">,</span> <span class="elocal">nb</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">not_empty</span><span class="esymbol">:</span> <span class="ekeyword">attached</span> <span class="ekeyword">Result</span> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/immutable_string_32.html#f_is_empty">is_empty</a>
			<span class="etag">no_dot</span><span class="esymbol">:</span> <span class="ekeyword">attached</span> <span class="ekeyword">Result</span> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_32.html#f_has">has</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="echar">'.'</span><span class="edot">.</span><a class="efeature" href="../base/character_8.html#f_to_character_32">to_character_32</a><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_components"></a><a class="efeature" href="../base/path.html#f_components">components</a><span class="esymbol">:</span> <a class="eclass" href="../base/arrayed_list.html">ARRAYED_LIST</a> <span class="esymbol">[</span><a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">]</span>
			<span class="ecomment">--</span><span class="ecomment"> Sequence of simple paths making up Current, including </span><a class="efeature" href="../base/path.html#f_root">root</a><span class="ecomment"> if any.</span>
		<span class="ekeyword">local</span>
			<span class="elocal">l_storage</span><span class="esymbol">:</span> <a class="eclass" href="../base/string_8.html">STRING_8</a>
			<span class="elocal">l_previous_pos</span><span class="esymbol">,</span> <span class="elocal">l_pos</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_make">make</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">10</span><span class="esymbol">)</span>
			<span class="elocal">l_pos</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a>
			<span class="ekeyword">if</span> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="enumber">0</span> <span class="ekeyword">then</span>
				<span class="ekeyword">create</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_make">make</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_pos</span><span class="esymbol">)</span>
				<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_substring">append_substring</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="enumber">1</span><span class="esymbol">,</span> <span class="elocal">l_pos</span><span class="esymbol">)</span>
				<span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_extend">extend</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="ekeyword">create</span><span class="esymbol"> </span><span class="esymbol">{</span><a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">)</span><span class="esymbol">)</span>
				<span class="elocal">l_pos</span> <span class="esymbol">:=</span> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span>
			<span class="ekeyword">else</span>
				<span class="elocal">l_pos</span> <span class="esymbol">:=</span> <span class="enumber">1</span>
			<span class="ekeyword">end</span>
			<span class="ekeyword">if</span> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/comparable.html#f_is_less_equal">&lt;=</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="ekeyword">then</span>
				<span class="ekeyword">from</span>
					<span class="elocal">l_previous_pos</span> <span class="esymbol">:=</span> <span class="elocal">l_pos</span>
					<span class="elocal">l_pos</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_next_directory_separator">next_directory_separator</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_previous_pos</span><span class="esymbol">)</span>
				<span class="ekeyword">until</span>
					<span class="elocal">l_pos</span> <span class="esymbol">=</span> <span class="enumber">0</span>
				<span class="ekeyword">loop</span>
					<span class="ekeyword">create</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_make">make</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_pos</span> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <span class="elocal">l_previous_pos</span><span class="esymbol">)</span>
					<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_substring">append_substring</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="elocal">l_previous_pos</span><span class="esymbol">,</span> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <span class="enumber">1</span><span class="esymbol">)</span>
					<span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_extend">extend</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="ekeyword">create</span><span class="esymbol"> </span><span class="esymbol">{</span><a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">)</span><span class="esymbol">)</span>
					<span class="elocal">l_previous_pos</span> <span class="esymbol">:=</span> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a>
					<span class="elocal">l_pos</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_next_directory_separator">next_directory_separator</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_previous_pos</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
				<span class="ekeyword">if</span> <span class="elocal">l_previous_pos</span> <a class="esymbol" href="../base/comparable.html#f_is_less_equal">&lt;=</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="ekeyword">then</span>
					<span class="ekeyword">create</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_make">make</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <span class="elocal">l_previous_pos</span><span class="esymbol">)</span>
					<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_substring">append_substring</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="elocal">l_previous_pos</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a><span class="esymbol">)</span>
					<span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_extend">extend</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="ekeyword">create</span><span class="esymbol"> </span><span class="esymbol">{</span><a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">)</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_absolute_path"></a><a class="efeature" href="../base/path.html#f_absolute_path">absolute_path</a><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a>
			<span class="ecomment">--</span><span class="ecomment"> Absolute path of Current.</span>
			<span class="ecomment">--</span><span class="ecomment"> If Current is already absolute, then return Current.</span>
			<span class="ecomment">--</span><span class="ecomment"> If Current is empty, then return the current working directory.</span>
			<span class="ecomment">--</span><span class="ecomment"> Otherwise resolve the path in a platform specific way:</span>
			<span class="ecomment">--</span><span class="ecomment"> * On UNIX, resolve against the current working directory</span>
			<span class="ecomment">--</span><span class="ecomment"> * On Windows:</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;a) if current has a drive letter which is not followed by &quot;\&quot;</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolve against the current working directory for that drive letter,</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise resolve against the current working directory.</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;b) if current path starts with &quot;\&quot;, not a double &quot;\\&quot;, then resolve</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;against the root of the current working directory (i.e. a drive</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;letter &quot;C:\&quot; or a UNC path &quot;\\server\share\&quot;.)</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_absolute_path_in">absolute_path_in</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_env">Env</a><span class="edot">.</span><a class="efeature" href="../base/execution_environment.html#f_current_working_path">current_working_path</a><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_absolute_path_in"></a><a class="efeature" href="../base/path.html#f_absolute_path_in">absolute_path_in</a> <span class="esymbol">(</span><span class="elocal">a_current_directory</span><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a>
			<span class="ecomment">--</span><span class="ecomment"> Absolute path of Current in the context of </span><span class="equoted">a_current_directory</span><span class="ecomment">.</span>
			<span class="ecomment">--</span><span class="ecomment"> If Current is already absolute, then return Current.</span>
			<span class="ecomment">--</span><span class="ecomment"> If Current is empty, then return </span><span class="equoted">a_current_directory</span><span class="ecomment">.</span>
			<span class="ecomment">--</span><span class="ecomment"> Otherwise resolve the path in a platform specific way:</span>
			<span class="ecomment">--</span><span class="ecomment"> * On UNIX, resolve against </span><span class="equoted">a_current_directory</span>
			<span class="ecomment">--</span><span class="ecomment"> * On Windows:</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;a) if current has a drive letter which is not followed by &quot;\&quot;</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolve against </span><span class="equoted">a_current_directory</span><span class="ecomment"> for that drive letter,</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise resolve against </span><span class="equoted">a_current_directory</span><span class="ecomment">.</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;b) if current path starts with &quot;\&quot;, not a double &quot;\\&quot;, then resolve</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;against the root of `a_current_directory; (i.e. a drive</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;letter &quot;C:\&quot; or a UNC path &quot;\\server\share\&quot;.)</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_current_directory_not_void</span><span class="esymbol">:</span> <span class="elocal">a_current_directory</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
			<span class="etag">a_current_directory_absolute</span><span class="esymbol">:</span> <span class="elocal">a_current_directory</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_absolute">is_absolute</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/finite.html#f_is_empty">is_empty</a> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">a_current_directory</span>
			<span class="ekeyword">else</span>
				<span class="ekeyword">if</span> <a class="efeature" href="../base/path.html#f_is_absolute">is_absolute</a> <span class="ekeyword">then</span>
					<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">Current</span>
				<span class="ekeyword">else</span>
					<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
						<span class="ekeyword">if</span> <span class="ekeyword">attached</span> <a class="efeature" href="../base/path.html#f_root">root</a> <span class="ekeyword">as</span> l_root <span class="ekeyword">then</span>
							<span class="ekeyword">if</span> <span class="esymbol">(</span><span class="elocal">l_root</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="esymbol">=</span> <span class="enumber">4</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <span class="elocal">a_current_directory</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <span class="enumber">4</span><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <span class="esymbol">(</span><span class="elocal">l_root</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="elocal">a_current_directory</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <span class="elocal">l_root</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">3</span><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="elocal">a_current_directory</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">3</span><span class="esymbol">)</span><span class="esymbol">)</span> <span class="ekeyword">then</span>
								<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">a_current_directory</span><span class="edot">.</span><a class="efeature" href="../base/any.html#f_twin">twin</a>
							<span class="ekeyword">else</span>
								<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">l_root</span>
							<span class="ekeyword">end</span>
							<a class="efeature" href="../base/path.html#f_internal_path_append_substring_into">internal_path_append_substring_into</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="elocal">l_root</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span>
						<span class="ekeyword">else</span>
							<span class="ekeyword">if</span> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="esymbol">)</span> <span class="ekeyword">then</span>
								<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">a_current_directory</span><span class="edot">.</span><a class="efeature" href="../base/any.html#f_twin">twin</a>
								<span class="ekeyword">if</span> <span class="ekeyword">attached</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_root">root</a> <span class="ekeyword">as</span> l_root <span class="ekeyword">then</span>
									<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">l_root</span>
								<span class="ekeyword">end</span>
							<span class="ekeyword">else</span>
								<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">a_current_directory</span><span class="edot">.</span><a class="efeature" href="../base/any.html#f_twin">twin</a>
							<span class="ekeyword">end</span>
							<a class="efeature" href="../base/path.html#f_internal_path_append_into">internal_path_append_into</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span>
						<span class="ekeyword">end</span>
					<span class="ekeyword">else</span>
						<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">a_current_directory</span><span class="edot">.</span><a class="efeature" href="../base/any.html#f_twin">twin</a>
						<a class="efeature" href="../base/path.html#f_internal_path_append_into">internal_path_append_into</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span>
					<span class="ekeyword">end</span>
					<span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_reset_internal_data">reset_internal_data</a>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">has_root</span><span class="esymbol">:</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_has_root">has_root</a>
		<span class="ekeyword">end</span>

	<a name="f_canonical_path"></a><a class="efeature" href="../base/path.html#f_canonical_path">canonical_path</a><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a>
			<span class="ecomment">--</span><span class="ecomment"> Canonical path of Current.</span>
			<span class="ecomment">--</span><span class="ecomment"> Similar to </span><a class="efeature" href="../base/path.html#f_absolute_path">absolute_path</a><span class="ecomment"> except that sequences containing &quot;.&quot; or &quot;..&quot; are</span>
			<span class="ecomment">--</span><span class="ecomment"> resolved.</span>
		<span class="ekeyword">local</span>
			<span class="elocal">l_components</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_components">components</a>
			<span class="elocal">l_absolute_path</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_absolute_path">absolute_path</a>
			<span class="elocal">l_storage</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_storage">storage</a>
		<span class="ekeyword">do</span>
			<span class="elocal">l_absolute_path</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_absolute_path">absolute_path</a>
			<span class="ekeyword">if</span> <span class="ekeyword">attached</span> <span class="elocal">l_absolute_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_root">root</a> <span class="ekeyword">as</span> l_root <span class="ekeyword">then</span>
				<span class="ekeyword">create</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_make">make</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_absolute_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a><span class="esymbol">)</span>
				<span class="elocal">l_components</span> <span class="esymbol">:=</span> <span class="elocal">l_absolute_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_components">components</a>
				<span class="ekeyword">check</span>
					<span class="etag">l_components_has_root</span><span class="esymbol">:</span> <span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_count">count</a> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <span class="enumber">1</span>
					<span class="etag">l_components_first_is_root</span><span class="esymbol">:</span> <span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_first">first</a><span class="edot">.</span><a class="efeature" href="../base/path.html#f_same_as">same_as</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_root</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
				<span class="ekeyword">from</span>
					<span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_start">start</a>
					<a class="efeature" href="../base/path.html#f_internal_path_append_into">internal_path_append_into</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_item">item</a><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span>
					<span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_remove">remove</a>
				<span class="ekeyword">until</span>
					<span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/list.html#f_after">after</a>
				<span class="ekeyword">loop</span>
					<span class="ekeyword">if</span> <span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_item">item</a><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_current_symbol">is_current_symbol</a> <span class="ekeyword">then</span>
						<span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_remove">remove</a>
					<span class="ekeyword">elseif</span> <span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_item">item</a><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_parent_symbol">is_parent_symbol</a> <span class="ekeyword">then</span>
						<span class="ekeyword">if</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/chain.html#f_isfirst">isfirst</a> <span class="ekeyword">then</span>
							<span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_back">back</a>
							<span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_remove">remove</a>
						<span class="ekeyword">end</span>
						<span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_remove">remove</a>
					<span class="ekeyword">else</span>
						<span class="elocal">l_components</span><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_forth">forth</a>
					<span class="ekeyword">end</span>
				<span class="ekeyword">end</span>
				<span class="ekeyword">across</span>
					<span class="elocal">l_components</span> <span class="ekeyword">as</span> l_component
				<span class="ekeyword">loop</span>
					<a class="efeature" href="../base/path.html#f_internal_path_append_into">internal_path_append_into</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">l_component</span><span class="edot">.</span><a class="efeature" href="../base/general_special_iteration_cursor.html#f_item">item</a><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
				<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">)</span>
			<span class="ekeyword">else</span>
				<span class="ekeyword">check</span>
						<span class="ekeyword">False</span>
				<span class="ekeyword">end</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">l_absolute_path</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_hash_code"></a><a class="efeature" href="../base/path.html#f_hash_code">hash_code</a><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
			<span class="ecomment">--</span><span class="ecomment"> Hash code value</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/operating_environment.html">OPERATING_ENVIRONMENT</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/operating_environment.html#f_case_sensitive_path_names">case_sensitive_path_names</a> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_hash_code">hash_code</a>
			<span class="ekeyword">else</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_name">name</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_case_insensitive_hash_code">case_insensitive_hash_code</a>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_native_string"></a><a class="efeature" href="../base/path.html#f_native_string">native_string</a><span class="esymbol">:</span> <a class="eclass" href="../base/native_string.html">NATIVE_STRING</a>
			<span class="ecomment">--</span><span class="ecomment"> Convert current into an instance of NATIVE_STRING</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/native_string.html#f_make_from_raw_string">make_from_raw_string</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">set</span><span class="esymbol">:</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/native_string.html#f_raw_string">raw_string</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_same_string">same_string</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_unix_separator"></a><a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a><span class="esymbol">:</span> <a class="eclass" href="../base/character_8.html">CHARACTER_8</a> <span class="esymbol">=</span> <span class="echar">'/'</span>

	<a name="f_windows_separator"></a><a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="esymbol">:</span> <a class="eclass" href="../base/character_8.html">CHARACTER_8</a> <span class="esymbol">=</span> <span class="echar">'\'</span>
			<span class="ecomment">--</span><span class="ecomment"> Platform specific directory separator.</span>

	<a name="f_directory_separator"></a><a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">:</span> <a class="eclass" href="../base/character_8.html">CHARACTER_8</a>
			<span class="ecomment">--</span><span class="ecomment"> Default directory separator for the current platform.</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a>
			<span class="ekeyword">else</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">feature</span> <span class="ecomment">--</span><span class="ecomment"> Status setting</span>

	<a name="f_extended"></a><a class="efeature" href="../base/path.html#f_extended">extended</a> <span class="esymbol">(</span><span class="elocal">a_name</span><span class="esymbol">:</span> <a class="eclass" href="../base/readable_string_general.html">READABLE_STRING_GENERAL</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a>
			<span class="ecomment">--</span><span class="ecomment"> New path instance of current extended with path </span><span class="equoted">a_name</span><span class="ecomment">.</span>
			<span class="ecomment">--</span><span class="ecomment"> If current is not empty, then </span><span class="equoted">a_name</span><span class="ecomment"> cannot have a root.</span>
			<span class="ecomment">--</span><span class="ecomment"> A directory separator is added between two entries except</span>
			<span class="ecomment">--</span><span class="ecomment"> 1 - </span><span class="equoted">a_name</span><span class="ecomment"> starts with a directory separator (i.e. it has a root)</span>
			<span class="ecomment">--</span><span class="ecomment"> 2 - if current is empty or is just a root.</span>
			<span class="ecomment">--</span><span class="ecomment"> Note that </span><span class="equoted">a_name</span><span class="ecomment"> can be an encoding of a mixed-encoding simple name and it will</span>
			<span class="ecomment">--</span><span class="ecomment"> be decoded accordingly (see note clause for the class for more details.)</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_name_not_void</span><span class="esymbol">:</span> <span class="elocal">a_name</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
			<span class="etag">a_name_not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_name</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_is_empty">is_empty</a>
			<span class="etag">a_name_has_no_root</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="esymbol">(</span><span class="ekeyword">create</span><span class="esymbol"> </span><span class="esymbol">{</span><a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_string">make_from_string</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_name</span><span class="esymbol">)</span><span class="esymbol">)</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_has_root">has_root</a>
		<span class="ekeyword">local</span>
			<span class="elocal">l_storage</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_storage">storage</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">create</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_make">make</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="elocal">a_name</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_product">*</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span>
			<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append">append</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span>
			<span class="ekeyword">if</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="enumber">0</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a> <span class="esymbol">=</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="ekeyword">then</span>
				<a class="efeature" href="../base/path.html#f_internal_append_into">internal_append_into</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">a_name</span><span class="esymbol">,</span> <span class="echar">'%U'</span><span class="esymbol">)</span>
			<span class="ekeyword">else</span>
				<a class="efeature" href="../base/path.html#f_internal_append_into">internal_append_into</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">a_name</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span>
			<span class="ekeyword">end</span>
			<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_storage">make_from_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">)</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">associated_path_of_name</span><span class="esymbol">:</span> <span class="ekeyword">attached</span> <span class="esymbol">(</span><span class="ekeyword">create</span><span class="esymbol"> </span><span class="esymbol">{</span><a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_string">make_from_string</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_name</span><span class="esymbol">)</span><span class="esymbol">)</span> <span class="ekeyword">as</span> l_path
			<span class="etag">not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_empty">is_empty</a>
			<span class="etag">extended_with_only_empty_or_root</span><span class="esymbol">:</span> <span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_same_as">same_as</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_root">root</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_disjuncted">or</a> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_32.html#f_same_string">same_string</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_name">name</a> <a class="esymbol" href="../base/immutable_string_32.html#f_plus">+</a> <span class="elocal">l_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="esymbol">)</span>
			<span class="etag">extended_with_more_than_root_or_not_empty</span><span class="esymbol">:</span> <span class="esymbol">(</span><a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_same_as">same_as</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_root">root</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_32.html#f_same_string">same_string</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_name">name</a> <a class="esymbol" href="../base/immutable_string_32.html#f_plus">+</a> <a class="efeature" href="../base/path.html#f_directory_separator_string">Directory_separator_string</a> <a class="esymbol" href="../base/immutable_string_32.html#f_plus">+</a> <span class="elocal">l_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_extended_path"></a><a class="efeature" href="../base/path.html#f_extended_path">extended_path</a> <span class="ekeyword">alias</span> <span class="esymbol">&quot;</span><a class="esymbol" href="../base/path.html#f_extended_path">+</a><span class="esymbol">&quot;</span> <span class="esymbol">(</span><span class="elocal">a_path</span><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a>
			<span class="ecomment">--</span><span class="ecomment"> New path instance of current extended with path </span><span class="equoted">a_path</span><span class="ecomment">.</span>
			<span class="ecomment">--</span><span class="ecomment"> If current is not empty, then </span><span class="equoted">a_path</span><span class="ecomment"> cannot have a root.</span>
			<span class="ecomment">--</span><span class="ecomment"> A directory separator is added between two entries except</span>
			<span class="ecomment">--</span><span class="ecomment"> 1 - </span><span class="equoted">a_path</span><span class="ecomment"> starts with a directory separator (i.e. it has a root)</span>
			<span class="ecomment">--</span><span class="ecomment"> 2 - if current is empty or is just a root.</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_path_not_void</span><span class="esymbol">:</span> <span class="elocal">a_path</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
			<span class="etag">a_path_not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_empty">is_empty</a>
			<span class="etag">a_path_has_no_root</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_has_root">has_root</a>
		<span class="ekeyword">local</span>
			<span class="elocal">l_storage</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_storage">storage</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">create</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_make">make</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span>
			<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append">append</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span>
			<span class="ekeyword">if</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="enumber">0</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a> <span class="esymbol">=</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="ekeyword">then</span>
				<a class="efeature" href="../base/path.html#f_internal_path_append_into">internal_path_append_into</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="echar">'%U'</span><span class="esymbol">)</span>
			<span class="ekeyword">else</span>
				<a class="efeature" href="../base/path.html#f_internal_path_append_into">internal_path_append_into</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span>
			<span class="ekeyword">end</span>
			<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">)</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_empty">is_empty</a>
			<span class="etag">extended_with_only_empty_or_root</span><span class="esymbol">:</span> <span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_same_as">same_as</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_root">root</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_disjuncted">or</a> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_32.html#f_same_string">same_string</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_name">name</a> <a class="esymbol" href="../base/immutable_string_32.html#f_plus">+</a> <span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="esymbol">)</span>
			<span class="etag">extended_with_more_than_root_or_not_empty</span><span class="esymbol">:</span> <span class="esymbol">(</span><a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_same_as">same_as</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_root">root</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_empty">is_empty</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_32.html#f_same_string">same_string</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_name">name</a> <a class="esymbol" href="../base/immutable_string_32.html#f_plus">+</a> <a class="efeature" href="../base/path.html#f_directory_separator_string">Directory_separator_string</a> <a class="esymbol" href="../base/immutable_string_32.html#f_plus">+</a> <span class="elocal">a_path</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_appended"></a><a class="efeature" href="../base/path.html#f_appended">appended</a> <span class="esymbol">(</span><span class="elocal">a_extra</span><span class="esymbol">:</span> <a class="eclass" href="../base/readable_string_general.html">READABLE_STRING_GENERAL</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a>
			<span class="ecomment">--</span><span class="ecomment"> New path instance of current where </span><a class="efeature" href="../base/path.html#f_entry">entry</a><span class="ecomment"> is appended with </span><span class="equoted">a_extra</span><span class="ecomment"> without</span>
			<span class="ecomment">--</span><span class="ecomment"> adding a directory separator.</span>
			<span class="ecomment">--</span><span class="ecomment"> For example if Current path is &quot;C:&quot; and </span><span class="equoted">a_path</span><span class="ecomment"> is &quot;path\file.txt&quot;, it will yield</span>
			<span class="ecomment">--</span><span class="ecomment"> &quot;C:path\file.txt&quot;.</span>
			<span class="ecomment">--</span><span class="ecomment"> Note that </span><span class="equoted">a_extra</span><span class="ecomment"> can be an encoding of a mixed-encoding simple name and it will</span>
			<span class="ecomment">--</span><span class="ecomment"> be decoded accordingly (see note clause for the class for more details.)</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_extra_not_void</span><span class="esymbol">:</span> <span class="elocal">a_extra</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
			<span class="etag">a_extra_not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_extra</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_is_empty">is_empty</a>
		<span class="ekeyword">local</span>
			<span class="elocal">l_storage</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_storage">storage</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">create</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_make">make</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="elocal">a_extra</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_product">*</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span>
			<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append">append</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span>
			<a class="efeature" href="../base/path.html#f_internal_append_into">internal_append_into</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">a_extra</span><span class="esymbol">,</span> <span class="echar">'%U'</span><span class="esymbol">)</span>
			<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_storage">make_from_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">)</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_empty">is_empty</a>
			<span class="etag">appended</span><span class="esymbol">:</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_32.html#f_same_string">same_string</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_name">name</a> <a class="esymbol" href="../base/immutable_string_32.html#f_plus">+</a> <span class="esymbol">(</span><span class="ekeyword">create</span><span class="esymbol"> </span><span class="esymbol">{</span><a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_string">make_from_string</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_extra</span><span class="esymbol">)</span><span class="esymbol">)</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_appended_with_extension"></a><a class="efeature" href="../base/path.html#f_appended_with_extension">appended_with_extension</a> <span class="esymbol">(</span><span class="elocal">a_ext</span><span class="esymbol">:</span> <a class="eclass" href="../base/readable_string_general.html">READABLE_STRING_GENERAL</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a>
			<span class="ecomment">--</span><span class="ecomment"> New path instance of current where </span><a class="efeature" href="../base/path.html#f_entry">entry</a><span class="ecomment"> is extended with a dot followed by </span><span class="equoted">a_ext</span><span class="ecomment">.</span>
			<span class="ecomment">--</span><span class="ecomment"> If Current already has a dot, no dot is added.</span>
			<span class="ecomment">--</span><span class="ecomment"> Note that </span><span class="equoted">a_ext</span><span class="ecomment"> can be an encoding of a mixed-encoding simple name and it will</span>
			<span class="ecomment">--</span><span class="ecomment"> be decoded accordingly (see note clause for the class for more details.)</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_ext_not_void</span><span class="esymbol">:</span> <span class="elocal">a_ext</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
			<span class="etag">a_ext_not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_ext</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_is_empty">is_empty</a>
			<span class="etag">a_ext_has_no_dot</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_ext</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_has">has</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="echar">'.'</span><span class="edot">.</span><a class="efeature" href="../base/character_8.html#f_to_character_32">to_character_32</a><span class="esymbol">)</span>
			<span class="etag">a_ext_has_no_directory_separator</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_ext</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_has">has</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="edot">.</span><a class="efeature" href="../base/character_8.html#f_to_character_32">to_character_32</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_ext</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_has">has</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a><span class="edot">.</span><a class="efeature" href="../base/character_8.html#f_to_character_32">to_character_32</a><span class="esymbol">)</span>
			<span class="etag">has_entry</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_entry">entry</a> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
		<span class="ekeyword">local</span>
			<span class="elocal">l_storage</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_storage">storage</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">create</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_make">make</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="elocal">a_ext</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_product">*</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span>
			<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append">append</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span>
			<a class="efeature" href="../base/path.html#f_internal_append_into">internal_append_into</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">a_ext</span><span class="esymbol">,</span> <span class="echar">'.'</span><span class="esymbol">)</span>
			<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_normalized_storage">make_from_normalized_storage</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">)</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_is_empty">is_empty</a>
			<span class="etag">extension_set</span><span class="esymbol">:</span> <span class="ekeyword">attached</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_extension">extension</a> <span class="ekeyword">as</span> l_ext <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <span class="elocal">l_ext</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_same_string">same_string_general</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_ext</span><span class="esymbol">)</span>
			<span class="etag">components_stable</span><span class="esymbol">:</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_components">components</a><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_count">count</a> <span class="esymbol">=</span> <a class="efeature" href="../base/path.html#f_components">components</a><span class="edot">.</span><a class="efeature" href="../base/arrayed_list.html#f_count">count</a>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">feature</span> <span class="ecomment">--</span><span class="ecomment"> Comparison</span>

	<a name="f_same_as"></a><a class="efeature" href="../base/path.html#f_same_as">same_as</a> <span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">:</span> <span class="ekeyword">detachable</span> <a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Is Current the same path as </span><span class="equoted">other</span><span class="ecomment">?</span>
			<span class="ecomment">--</span><span class="ecomment"> Note that no canonicalization is being performed to compare paths,</span>
			<span class="ecomment">--</span><span class="ecomment"> paths are compared using the OS-specific convention for letter case.</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="elocal">other</span> <span class="esymbol">=</span> <span class="ekeyword">Void</span> <span class="ekeyword">then</span>
			<span class="ekeyword">elseif</span> <span class="elocal">other</span> <span class="esymbol">=</span> <span class="ekeyword">Current</span> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
			<span class="ekeyword">else</span>
				<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/operating_environment.html">OPERATING_ENVIRONMENT</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/operating_environment.html#f_case_sensitive_path_names">case_sensitive_path_names</a> <span class="ekeyword">then</span>
					<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_is_case_sensitive_equal">is_case_sensitive_equal</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">)</span>
				<span class="ekeyword">else</span>
					<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_is_case_insensitive_equal">is_case_insensitive_equal</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_is_less"></a><a class="efeature" href="../base/path.html#f_is_less">is_less</a> <span class="ekeyword">alias</span> <span class="esymbol">&quot;</span><a class="esymbol" href="../base/path.html#f_is_less">&lt;</a><span class="esymbol">&quot;</span> <span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <span class="ekeyword">Current</span><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Is current object less than </span><span class="equoted">other</span><span class="ecomment">?</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/operating_environment.html">OPERATING_ENVIRONMENT</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/operating_environment.html#f_case_sensitive_path_names">case_sensitive_path_names</a> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_storage">storage</a> <a class="esymbol" href="../base/readable_string_8.html#f_is_less">&lt;</a> <span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a>
			<span class="ekeyword">else</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_name">name</a><span class="edot">.</span><a class="efeature" href="../base/immutable_string_32.html#f_as_lower">as_lower</a> <a class="esymbol" href="../base/readable_string_32.html#f_is_less">&lt;</a> <span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="edot">.</span><a class="efeature" href="../base/immutable_string_32.html#f_as_lower">as_lower</a>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_is_equal"></a><a class="efeature" href="../base/path.html#f_is_equal">is_equal</a> <span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <span class="ekeyword">Current</span><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Is </span><span class="equoted">other</span><span class="ecomment"> attached to an object considered</span>
			<span class="ecomment">--</span><span class="ecomment"> equal to current object?</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_same_as">same_as</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_is_case_sensitive_equal"></a><a class="efeature" href="../base/path.html#f_is_case_sensitive_equal">is_case_sensitive_equal</a> <span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Compare path and paying attention to case.</span>
		<span class="ekeyword">require</span>
			<span class="etag">other_not_void</span><span class="esymbol">:</span> <span class="elocal">other</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="elocal">other</span> <span class="esymbol">=</span> <span class="ekeyword">Current</span> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
			<span class="ekeyword">else</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_is_equal">is_equal</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_is_case_insensitive_equal"></a><a class="efeature" href="../base/path.html#f_is_case_insensitive_equal">is_case_insensitive_equal</a> <span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">:</span> <a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Compare path without paying attention to case. If the path is containing some mixed-encoding</span>
			<span class="ecomment">--</span><span class="ecomment"> we might ignore many characters when doing the case comparison.</span>
		<span class="ekeyword">require</span>
			<span class="etag">other_not_void</span><span class="esymbol">:</span> <span class="elocal">other</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="elocal">other</span> <span class="esymbol">=</span> <span class="ekeyword">Current</span> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
			<span class="ekeyword">else</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_name">name</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_32.html#f_is_case_insensitive_equal">is_case_insensitive_equal</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="esymbol">)</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">feature</span> <span class="ecomment">--</span><span class="ecomment"> Duplication</span>

	<a name="f_copy"></a><a class="efeature" href="../base/path.html#f_copy">copy</a> <span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <span class="ekeyword">Current</span><span class="esymbol">)</span>
			<span class="ecomment">--</span><span class="ecomment"> Update current object using fields of object attached</span>
			<span class="ecomment">--</span><span class="ecomment"> to </span><span class="equoted">other</span><span class="ecomment">, so as to yield equal objects.</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="elocal">other</span> <span class="esymbol">/=</span> <span class="ekeyword">Current</span> <span class="ekeyword">then</span>
				<a class="efeature" href="../base/any.html#f_standard_copy">standard_copy</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">)</span>
				<a class="efeature" href="../base/path.html#f_storage">storage</a> <span class="esymbol">:=</span> <span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/any.html#f_twin">twin</a>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">feature</span> <span class="ecomment">--</span><span class="ecomment"> Output</span>

	<a name="f_out"></a><a class="efeature" href="../base/path.html#f_out">out</a><span class="esymbol">:</span> <a class="eclass" href="../base/string_8.html">STRING_8</a>
			<span class="ecomment">--</span><span class="ecomment"> ASCII representation of the underlying filename if representable,</span>
			<span class="ecomment">--</span><span class="ecomment"> otherwise a UTF-8 encoded version.</span>
			<span class="ecomment">--</span><span class="ecomment"> Use </span><a class="efeature" href="../base/path.html#f_utf_8_name">utf_8_name</a><span class="ecomment"> to have a printable representation whose format is not going</span>
			<span class="ecomment">--</span><span class="ecomment"> to be changed in the future.</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_utf_8_name">utf_8_name</a>
		<span class="ekeyword">end</span>

	<a name="f_utf_8_name"></a><a class="efeature" href="../base/path.html#f_utf_8_name">utf_8_name</a><span class="esymbol">:</span> <a class="eclass" href="../base/string_8.html">STRING_8</a>
			<span class="ecomment">--</span><span class="ecomment"> UTF-8 representation of the underlying filename.</span>
		<span class="ekeyword">local</span>
			<span class="elocal">u</span><span class="esymbol">:</span> <a class="eclass" href="../base/utf_converter.html">UTF_CONVERTER</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">u</span><span class="edot">.</span><a class="efeature" href="../base/utf_converter.html#f_utf_32_string_to_utf_8_string_8">utf_32_string_to_utf_8_string_8</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_name">name</a><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_name"></a><a class="efeature" href="../base/path.html#f_name">name</a><span class="esymbol">:</span> <a class="eclass" href="../base/immutable_string_32.html">IMMUTABLE_STRING_32</a>
			<span class="ecomment">--</span><span class="ecomment"> If current is representable in Unicode, the Unicode representation.</span>
			<span class="ecomment">--</span><span class="ecomment"> Otherwise all non-valid sequences for the current platform in the path are escaped</span>
			<span class="ecomment">--</span><span class="ecomment"> as mentioned in the note clause of the class.</span>
			<span class="ecomment">--</span><span class="ecomment"> To ensure roundtrip, you cannot use </span><a class="efeature" href="../base/path.html#f_name">name</a><span class="ecomment"> directly to create a </span><span class="equoted">FILE</span><span class="ecomment">, you have to</span>
			<span class="ecomment">--</span><span class="ecomment"> create a </span><span class="equoted">PATH</span><span class="ecomment"> instance using </span><a class="efeature" href="../base/path.html#f_make_from_string">make_from_string</a><span class="ecomment"> before passing it to the creation</span>
			<span class="ecomment">--</span><span class="ecomment"> procedure of </span><span class="equoted">FILE</span><span class="ecomment"> taking an instance of </span><span class="equoted">PATH</span><span class="ecomment">.</span>
		<span class="ekeyword">local</span>
			<span class="elocal">u</span><span class="esymbol">:</span> <a class="eclass" href="../base/utf_converter.html">UTF_CONVERTER</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="ekeyword">attached</span> <a class="efeature" href="../base/path.html#f_internal_name">internal_name</a> <span class="ekeyword">as</span> l_name <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">l_name</span>
			<span class="ekeyword">else</span>
				<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
					<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_32.html#f_make_from_string">make_from_string</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">u</span><span class="edot">.</span><a class="efeature" href="../base/utf_converter.html#f_utf_16le_string_8_to_escaped_string_32">utf_16le_string_8_to_escaped_string_32</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span><span class="esymbol">)</span>
				<span class="ekeyword">else</span>
					<span class="ekeyword">create</span> <span class="ekeyword">Result</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_32.html#f_make_from_string">make_from_string</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">u</span><span class="edot">.</span><a class="efeature" href="../base/utf_converter.html#f_utf_8_string_8_to_escaped_string_32">utf_8_string_8_to_escaped_string_32</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
				<a class="efeature" href="../base/path.html#f_internal_name">internal_name</a> <span class="esymbol">:=</span> <span class="ekeyword">Result</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">roundtrip</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_same_as">same_as</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="ekeyword">create</span><span class="esymbol"> </span><span class="esymbol">{</span><a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/path.html#f_make_from_string">make_from_string</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="ekeyword">Result</span><span class="esymbol">)</span><span class="esymbol">)</span>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">feature</span> <span class="esymbol">{</span>NONE<span class="esymbol">}</span> <span class="ecomment">--</span><span class="ecomment"> Output</span>

	<a name="f_debug_output"></a><a class="efeature" href="../base/path.html#f_debug_output">debug_output</a><span class="esymbol">:</span> <a class="eclass" href="../base/readable_string_32.html">READABLE_STRING_32</a>
			<span class="ecomment">--</span><span class="ecomment"> String that should be displayed in debugger to represent </span><span class="equoted">Current</span><span class="ecomment">.</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_name">name</a>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">feature</span> <span class="esymbol">{</span><a class="eclass" href="../base/native_string_handler.html">NATIVE_STRING_HANDLER</a><span class="esymbol">}</span> <span class="ecomment">--</span><span class="ecomment"> Access</span>

	<a name="f_to_pointer"></a><a class="efeature" href="../base/path.html#f_to_pointer">to_pointer</a><span class="esymbol">:</span> <a class="eclass" href="../base/managed_pointer.html">MANAGED_POINTER</a>
			<span class="ecomment">--</span><span class="ecomment"> Platform specific representation of Current.</span>
		<span class="ekeyword">local</span>
			<span class="elocal">l_cstr</span><span class="esymbol">:</span> <a class="eclass" href="../base/c_string.html">C_STRING</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">create</span> <span class="elocal">l_cstr</span><span class="edot">.</span><a class="efeature" href="../base/c_string.html#f_make_empty">make_empty</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <span class="enumber">1</span><span class="esymbol">)</span>
			<span class="elocal">l_cstr</span><span class="edot">.</span><a class="efeature" href="../base/c_string.html#f_set_string">set_string</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">)</span>
			<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">l_cstr</span><span class="edot">.</span><a class="efeature" href="../base/c_string.html#f_managed_data">managed_data</a>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">feature</span> <span class="esymbol">{</span><a class="eclass" href="../base/path.html">PATH</a><span class="esymbol">}</span> <span class="ecomment">--</span><span class="ecomment"> Implementation</span>

	<a name="f_is_normalized"></a><a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Has current string be normalized?</span>

	<a name="f_storage"></a><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">:</span> <a class="eclass" href="../base/string_8.html">STRING_8</a>
			<span class="ecomment">--</span><span class="ecomment"> Internal storage for Current.</span>
			<span class="ecomment">--</span><span class="ecomment"> On UNIX, it is a binary sequence encoded in UTF-8 by default.</span>
			<span class="ecomment">--</span><span class="ecomment"> On Windows, it is a binary sequence encoded in UTF-16LE by default.</span>

	<a name="f_unit_size"></a><a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
			<span class="ecomment">--</span><span class="ecomment"> Size in bytes of a unit for </span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="ecomment">.</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="enumber">2</span>
			<span class="ekeyword">else</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="enumber">1</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_reset_internal_data"></a><a class="efeature" href="../base/path.html#f_reset_internal_data">reset_internal_data</a>
			<span class="ecomment">--</span><span class="ecomment"> Reset the private cache data.</span>
		<span class="ekeyword">do</span>
			<a class="efeature" href="../base/path.html#f_internal_name">internal_name</a> <span class="esymbol">:=</span> <span class="ekeyword">Void</span>
		<span class="ekeyword">end</span>

	<a name="f_normalize"></a><a class="efeature" href="../base/path.html#f_normalize">normalize</a>
			<span class="ecomment">--</span><span class="ecomment"> Normalize current with respect to directory separators:</span>
			<span class="ecomment">--</span><span class="ecomment"> 1 - On Windows, replace all </span><span class="equoted">/</span><span class="ecomment"> by </span><span class="equoted">\</span><span class="ecomment">.</span>
			<span class="ecomment">--</span><span class="ecomment"> 2 - Remove trailing directory separator unless this is a root for which</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;we will keep just one. This is the case of:</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* C:\</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* \\server\share\</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* \\?\C:\</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* /</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;where removing the trailing directory separator would transform</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;current path from being absolute to be relative.</span>
			<span class="ecomment">--</span><span class="ecomment"> 3 - Remove redundant directory separator in a path except on Windows for</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;the starting \\ in a UNC path. (i.e. /foo////bar -&gt; /foo/bar, and</span>
			<span class="ecomment">--</span><span class="ecomment"> &nbsp;&nbsp;&nbsp;&nbsp;\\server\share\\\\foo\\\bar -&gt; \\server\share\foo\bar.</span>
			<span class="ecomment">--</span><span class="ecomment"> 4 - If a path is just made of directory separator, it become that directory separator.</span>
		<span class="ekeyword">require</span>
			<span class="etag">not_normalized</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a>
			<span class="etag">storage_not_empty</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a>
		<span class="ekeyword">local</span>
			<span class="elocal">l_storage</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_storage">storage</a>
			<span class="elocal">i</span><span class="esymbol">,</span> <span class="elocal">j</span><span class="esymbol">,</span> <span class="elocal">nb</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
			<span class="elocal">l_root_pos</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
			<span class="elocal">l_in_separator</span><span class="esymbol">,</span> <span class="elocal">l_copy_character</span><span class="esymbol">,</span> <span class="elocal">l_has_unc</span><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
		<span class="ekeyword">do</span>
			<span class="elocal">l_storage</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_storage">storage</a>
			<span class="elocal">nb</span> <span class="esymbol">:=</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a>
			<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
				<span class="elocal">i</span> <span class="esymbol">:=</span> <span class="enumber">1</span>
				<span class="ekeyword">if</span> <span class="elocal">nb</span> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <a class="efeature" href="../base/path.html#f_min_unc_path_count">Min_unc_path_count</a> <span class="ekeyword">then</span>
					<span class="ekeyword">if</span> <span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="enumber">3</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_disjuncted">or</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="enumber">3</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="esymbol">)</span><span class="esymbol">)</span><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_disjuncted">or</a> <span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="enumber">3</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_disjuncted">or</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="enumber">3</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a><span class="esymbol">)</span><span class="esymbol">)</span><span class="esymbol">)</span> <span class="ekeyword">then</span>
						<span class="ekeyword">if</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="enumber">5</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="enumber">5</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="esymbol">)</span> <span class="ekeyword">then</span>
							<span class="elocal">i</span> <span class="esymbol">:=</span> <span class="enumber">5</span>
							<span class="elocal">l_has_unc</span> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
						<span class="ekeyword">end</span>
					<span class="ekeyword">end</span>
				<span class="ekeyword">end</span>
				<span class="ekeyword">from</span>
					<span class="elocal">j</span> <span class="esymbol">:=</span> <span class="elocal">i</span>
					<span class="elocal">l_copy_character</span> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
				<span class="ekeyword">until</span>
					<span class="elocal">i</span> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="elocal">nb</span>
				<span class="ekeyword">loop</span>
					<span class="ekeyword">if</span> <span class="elocal">l_in_separator</span> <span class="ekeyword">then</span>
						<span class="elocal">l_copy_character</span> <span class="esymbol">:=</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">i</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">i</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a><span class="esymbol">)</span>
						<span class="elocal">l_in_separator</span> <span class="esymbol">:=</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">l_copy_character</span>
					<span class="ekeyword">else</span>
						<span class="ekeyword">if</span> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">i</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a><span class="esymbol">)</span> <span class="ekeyword">then</span>
							<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_put">put</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="esymbol">,</span> <span class="elocal">i</span><span class="esymbol">)</span>
							<span class="elocal">l_in_separator</span> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
						<span class="ekeyword">else</span>
							<span class="elocal">l_in_separator</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">i</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="esymbol">)</span>
						<span class="ekeyword">end</span>
					<span class="ekeyword">end</span>
					<span class="ekeyword">if</span> <span class="elocal">l_copy_character</span> <span class="ekeyword">then</span>
						<span class="ekeyword">if</span> <span class="elocal">i</span> <span class="esymbol">/=</span> <span class="elocal">j</span> <span class="ekeyword">then</span>
							<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_put">put</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">i</span><span class="esymbol">)</span><span class="esymbol">,</span> <span class="elocal">j</span><span class="esymbol">)</span>
							<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_put">put</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">i</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">)</span><span class="esymbol">,</span> <span class="elocal">j</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">)</span>
						<span class="ekeyword">end</span>
						<span class="elocal">j</span> <span class="esymbol">:=</span> <span class="elocal">j</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">2</span>
					<span class="ekeyword">end</span>
					<span class="elocal">i</span> <span class="esymbol">:=</span> <span class="elocal">i</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">2</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">else</span>
				<span class="ekeyword">from</span>
					<span class="elocal">i</span> <span class="esymbol">:=</span> <span class="enumber">1</span>
					<span class="elocal">j</span> <span class="esymbol">:=</span> <span class="elocal">i</span>
					<span class="elocal">l_copy_character</span> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
				<span class="ekeyword">until</span>
					<span class="elocal">i</span> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="elocal">nb</span>
				<span class="ekeyword">loop</span>
					<span class="ekeyword">if</span> <span class="elocal">l_in_separator</span> <span class="ekeyword">then</span>
						<span class="elocal">l_copy_character</span> <span class="esymbol">:=</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">i</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a><span class="esymbol">)</span>
						<span class="elocal">l_in_separator</span> <span class="esymbol">:=</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">l_copy_character</span>
					<span class="ekeyword">else</span>
						<span class="elocal">l_in_separator</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">i</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a><span class="esymbol">)</span>
					<span class="ekeyword">end</span>
					<span class="ekeyword">if</span> <span class="elocal">l_copy_character</span> <span class="ekeyword">then</span>
						<span class="ekeyword">if</span> <span class="elocal">i</span> <span class="esymbol">/=</span> <span class="elocal">j</span> <span class="ekeyword">then</span>
							<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_put">put</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">i</span><span class="esymbol">)</span><span class="esymbol">,</span> <span class="elocal">j</span><span class="esymbol">)</span>
						<span class="ekeyword">end</span>
						<span class="elocal">j</span> <span class="esymbol">:=</span> <span class="elocal">j</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span>
					<span class="ekeyword">end</span>
					<span class="elocal">i</span> <span class="esymbol">:=</span> <span class="elocal">i</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
			<span class="ekeyword">if</span> <span class="elocal">i</span> <span class="esymbol">/=</span> <span class="elocal">j</span> <span class="ekeyword">then</span>
				<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_keep_head">keep_head</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">j</span> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <span class="enumber">1</span><span class="esymbol">)</span>
			<span class="ekeyword">end</span>
			<a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a> <span class="esymbol">:=</span> <span class="ekeyword">True</span>
			<span class="ekeyword">if</span> <span class="elocal">l_has_unc</span> <span class="ekeyword">then</span>
				<span class="elocal">l_root_pos</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a>
				<span class="ekeyword">if</span> <span class="elocal">l_root_pos</span> <span class="esymbol">=</span> <span class="enumber">0</span> <span class="ekeyword">then</span>
					<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_remove_head">remove_head</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
			<span class="ekeyword">if</span> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a> <a class="esymbol" href="../base/integer_32.html#f_is_less">&lt;</a> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="ekeyword">then</span>
				<span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_remove_tail">remove_tail</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">is_normalized</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">feature</span> <span class="esymbol">{</span>NONE<span class="esymbol">}</span> <span class="ecomment">--</span><span class="ecomment"> Implementation</span>

	<a name="f_internal_name"></a><a class="efeature" href="../base/path.html#f_internal_name">internal_name</a><span class="esymbol">:</span> <span class="ekeyword">detachable</span> <a class="eclass" href="../base/immutable_string_32.html">IMMUTABLE_STRING_32</a>
			<span class="ecomment">--</span><span class="ecomment"> Cache for </span><a class="efeature" href="../base/path.html#f_name">name</a><span class="ecomment">.</span>

	<a name="f_platform"></a><a class="efeature" href="../base/path.html#f_platform">Platform</a><span class="esymbol">:</span> <a class="eclass" href="../base/platform.html">PLATFORM</a>
			<span class="ecomment">--</span><span class="ecomment"> Access underlying platform info, used to satisfy invariant below.</span>
		<span class="ekeyword">once</span>
			<span class="ekeyword">create</span> <span class="ekeyword">Result</span>
		<span class="ekeyword">end</span>

	<a name="f_env"></a><a class="efeature" href="../base/path.html#f_env">Env</a><span class="esymbol">:</span> <a class="eclass" href="../base/execution_environment.html">EXECUTION_ENVIRONMENT</a>
			<span class="ecomment">--</span><span class="ecomment"> Access to underlying execution environment.</span>
		<span class="ekeyword">once</span>
			<span class="ekeyword">create</span> <span class="ekeyword">Result</span>
		<span class="ekeyword">end</span>

	<a name="f_root_end_position"></a><a class="efeature" href="../base/path.html#f_root_end_position">root_end_position</a><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
			<span class="ecomment">--</span><span class="ecomment"> Position of the last character of </span><a class="efeature" href="../base/path.html#f_root">root</a><span class="ecomment"> as a full unit if any, 0 otherwise.</span>
		<span class="ekeyword">require</span>
			<span class="etag">is_normalized</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a>
		<span class="ekeyword">local</span>
			<span class="elocal">l_drive_letter</span><span class="esymbol">:</span> <a class="eclass" href="../base/character_8.html">CHARACTER_8</a>
			<span class="elocal">l_pos</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/finite.html#f_is_empty">is_empty</a> <span class="ekeyword">then</span>
				<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
					<span class="ekeyword">if</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="esymbol">=</span> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="esymbol">)</span> <span class="ekeyword">then</span>
						<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a>
					<span class="ekeyword">elseif</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <span class="enumber">4</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">2</span><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="echar">'%U'</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">4</span><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="echar">'%U'</span><span class="esymbol">)</span> <span class="ekeyword">then</span>
						<span class="elocal">l_drive_letter</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">)</span><span class="edot">.</span><a class="efeature" href="../base/character_8_ref.html#f_as_lower">as_lower</a>
						<span class="ekeyword">if</span> <span class="elocal">l_drive_letter</span> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <span class="echar">'a'</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <span class="elocal">l_drive_letter</span> <a class="esymbol" href="../base/comparable.html#f_is_less_equal">&lt;=</a> <span class="echar">'z'</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">3</span><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="echar">':'</span> <span class="ekeyword">then</span>
							<span class="ekeyword">if</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <span class="enumber">3</span> <a class="esymbol" href="../base/integer_32.html#f_product">*</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="enumber">5</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="esymbol">)</span> <span class="ekeyword">then</span>
								<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="enumber">6</span>
							<span class="ekeyword">else</span>
								<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="enumber">4</span>
							<span class="ekeyword">end</span>
						<span class="ekeyword">elseif</span> <span class="elocal">l_drive_letter</span> <span class="esymbol">=</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">3</span><span class="esymbol">)</span> <span class="esymbol">/=</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a> <span class="ekeyword">then</span>
							<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a>
						<span class="ekeyword">elseif</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <a class="efeature" href="../base/path.html#f_min_unc_path_count">Min_unc_path_count</a> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <span class="elocal">l_drive_letter</span> <span class="esymbol">=</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">3</span><span class="esymbol">)</span> <span class="esymbol">=</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">5</span><span class="esymbol">)</span> <span class="esymbol">/=</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a> <span class="ekeyword">then</span>
							<span class="elocal">l_pos</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_next_directory_separator">next_directory_separator</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">7</span><span class="esymbol">)</span>
							<span class="ekeyword">if</span> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="enumber">0</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/comparable.html#f_is_less_equal">&lt;=</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <span class="ekeyword">then</span>
								<span class="elocal">l_pos</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_next_directory_separator">next_directory_separator</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_pos</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span>
								<span class="ekeyword">if</span> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="enumber">0</span> <span class="ekeyword">then</span>
									<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">l_pos</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span>
								<span class="ekeyword">else</span>
									<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a>
								<span class="ekeyword">end</span>
							<span class="ekeyword">end</span>
						<span class="ekeyword">end</span>
					<span class="ekeyword">end</span>
				<span class="ekeyword">else</span>
					<span class="ekeyword">if</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">)</span> <span class="esymbol">=</span> <a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a> <span class="ekeyword">then</span>
						<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="enumber">1</span>
					<span class="ekeyword">end</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">non_negative</span><span class="esymbol">:</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <span class="enumber">0</span>
			<span class="etag">not_too_big</span><span class="esymbol">:</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/comparable.html#f_is_less_equal">&lt;=</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a>
			<span class="etag">valid_for_windows</span><span class="esymbol">:</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/integer_32.html#f_integer_remainder">\\</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <span class="esymbol">=</span> <span class="enumber">0</span>
		<span class="ekeyword">end</span>

	<a name="f_end_position_of_last_directory_separator"></a><a class="efeature" href="../base/path.html#f_end_position_of_last_directory_separator">end_position_of_last_directory_separator</a><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
			<span class="ecomment">--</span><span class="ecomment"> Position of the last directory separator in Current, not including the trailing ones if any, 0 if none.</span>
		<span class="ekeyword">require</span>
			<span class="etag">is_normalized</span><span class="esymbol">:</span> <a class="efeature" href="../base/path.html#f_is_normalized">is_normalized</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/finite.html#f_is_empty">is_empty</a> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span>
				<span class="ekeyword">if</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <span class="enumber">1</span> <span class="ekeyword">then</span>
					<span class="ekeyword">from</span>
					<span class="ekeyword">until</span>
						<span class="ekeyword">Result</span> <a class="esymbol" href="../base/integer_32.html#f_is_less">&lt;</a> <span class="enumber">1</span> <a class="ekeyword" href="../base/boolean.html#f_disjuncted">or</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="ekeyword">Result</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span>
					<span class="ekeyword">loop</span>
						<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a>
					<span class="ekeyword">end</span>
				<span class="ekeyword">end</span>
				<span class="ekeyword">if</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/integer_32.html#f_is_less">&lt;</a> <span class="enumber">0</span> <span class="ekeyword">then</span>
					<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="enumber">0</span>
				<span class="ekeyword">else</span>
					<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <span class="enumber">1</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">non_negative</span><span class="esymbol">:</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <span class="enumber">0</span>
			<span class="etag">not_too_big</span><span class="esymbol">:</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/comparable.html#f_is_less_equal">&lt;=</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a>
			<span class="etag">valid_for_windows</span><span class="esymbol">:</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/integer_32.html#f_integer_remainder">\\</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <span class="esymbol">=</span> <span class="enumber">0</span>
		<span class="ekeyword">end</span>

	<a name="f_next_directory_separator"></a><a class="efeature" href="../base/path.html#f_next_directory_separator">next_directory_separator</a> <span class="esymbol">(</span><span class="elocal">a_starting_pos</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
			<span class="ecomment">--</span><span class="ecomment"> Starting at a position </span><span class="equoted">a_starting_pos</span><span class="ecomment"> find the position in </span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="ecomment"> of the</span>
			<span class="ecomment">--</span><span class="ecomment"> next directory separator, or 0 otherwise.</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_starting_pos_valid</span><span class="esymbol">:</span> <span class="elocal">a_starting_pos</span> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <span class="enumber">1</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <span class="elocal">a_starting_pos</span> <a class="esymbol" href="../base/comparable.html#f_is_less_equal">&lt;=</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a>
			<span class="etag">a_starting_pos_is_well_positionned</span><span class="esymbol">:</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="elocal">a_starting_pos</span> <a class="esymbol" href="../base/integer_32.html#f_integer_remainder">\\</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <span class="esymbol">=</span> <span class="enumber">1</span>
		<span class="ekeyword">local</span>
			<span class="elocal">nb</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a>
			<span class="elocal">l_step</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a>
			<span class="elocal">l_sep</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a>
			<span class="elocal">l_storage</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_storage">storage</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">from</span>
				<span class="elocal">l_step</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a>
				<span class="elocal">l_sep</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">a_starting_pos</span>
				<span class="elocal">l_storage</span> <span class="esymbol">:=</span> <a class="efeature" href="../base/path.html#f_storage">storage</a>
				<span class="elocal">nb</span> <span class="esymbol">:=</span> <span class="elocal">l_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a>
			<span class="ekeyword">until</span>
				<span class="ekeyword">Result</span> <a class="esymbol" href="../base/integer_32.html#f_is_less">&lt;</a> <span class="enumber">1</span> <a class="ekeyword" href="../base/boolean.html#f_disjuncted">or</a> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="elocal">nb</span> <a class="ekeyword" href="../base/boolean.html#f_disjuncted">or</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">l_storage</span><span class="esymbol">,</span> <span class="ekeyword">Result</span><span class="esymbol">,</span> <span class="elocal">l_sep</span><span class="esymbol">)</span>
			<span class="ekeyword">loop</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="elocal">l_step</span>
			<span class="ekeyword">end</span>
			<span class="ekeyword">if</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="elocal">nb</span> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="enumber">0</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">valid_position</span><span class="esymbol">:</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/comparable.html#f_is_greater_equal">&gt;=</a> <span class="enumber">0</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/comparable.html#f_is_less_equal">&lt;=</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a>
			<span class="etag">well_positionned</span><span class="esymbol">:</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="esymbol">(</span><span class="esymbol">(</span><span class="ekeyword">Result</span> <span class="esymbol">=</span> <span class="enumber">0</span><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_disjuncted">or</a> <span class="esymbol">(</span><span class="ekeyword">Result</span> <a class="esymbol" href="../base/integer_32.html#f_integer_remainder">\\</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <span class="esymbol">=</span> <span class="enumber">1</span><span class="esymbol">)</span><span class="esymbol">)</span>
			<span class="etag">has_separator</span><span class="esymbol">:</span> <span class="ekeyword">Result</span> <a class="esymbol" href="../base/comparable.html#f_is_greater">&gt;</a> <span class="enumber">0</span> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">,</span> <span class="ekeyword">Result</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_internal_append_into"></a><a class="efeature" href="../base/path.html#f_internal_append_into">internal_append_into</a> <span class="esymbol">(</span><span class="elocal">a_storage</span><span class="esymbol">:</span> <a class="eclass" href="../base/string_8.html">STRING_8</a><span class="esymbol">;</span> <span class="elocal">other</span><span class="esymbol">:</span> <a class="eclass" href="../base/readable_string_general.html">READABLE_STRING_GENERAL</a><span class="esymbol">;</span> <span class="elocal">a_separator</span><span class="esymbol">:</span> <a class="eclass" href="../base/character_8.html">CHARACTER_8</a><span class="esymbol">)</span>
			<span class="ecomment">--</span><span class="ecomment"> Append </span><span class="equoted">a_separator</span><span class="ecomment"> if different from '%U' and not already present as last character</span>
			<span class="ecomment">--</span><span class="ecomment"> in </span><span class="equoted">a_storage</span><span class="ecomment">, and then </span><span class="equoted">other</span><span class="ecomment"> to Current.</span>
		<span class="ekeyword">require</span>
			<span class="etag">other_not_void</span><span class="esymbol">:</span> <span class="elocal">other</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
			<span class="etag">other_not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_is_empty">is_empty</a>
		<span class="ekeyword">local</span>
			<span class="elocal">u</span><span class="esymbol">:</span> <a class="eclass" href="../base/utf_converter.html">UTF_CONVERTER</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_is_empty">is_empty</a> <span class="ekeyword">then</span>
				<span class="ekeyword">if</span> <span class="elocal">a_separator</span> <span class="esymbol">/=</span> <span class="echar">'%U'</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/finite.html#f_is_empty">is_empty</a> <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_storage</span><span class="esymbol">,</span> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">,</span> <span class="elocal">a_separator</span><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">)</span> <span class="esymbol">/=</span> <a class="efeature" href="../base/path.html#f_unix_separator">Unix_separator</a><span class="edot">.</span><a class="efeature" href="../base/character_8.html#f_to_character_32">to_character_32</a> <span class="ekeyword">then</span>
					<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
						<span class="ekeyword">if</span> <span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="enumber">1</span><span class="esymbol">)</span> <span class="esymbol">/=</span> <a class="efeature" href="../base/path.html#f_windows_separator">Windows_separator</a><span class="edot">.</span><a class="efeature" href="../base/character_8.html#f_to_character_32">to_character_32</a> <span class="ekeyword">then</span>
							<span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_character">append_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_separator</span><span class="esymbol">)</span>
							<span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_character">append_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="echar">'%U'</span><span class="esymbol">)</span>
						<span class="ekeyword">end</span>
					<span class="ekeyword">else</span>
						<span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_character">append_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_separator</span><span class="esymbol">)</span>
					<span class="ekeyword">end</span>
				<span class="ekeyword">end</span>
				<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
					<span class="elocal">u</span><span class="edot">.</span><a class="efeature" href="../base/utf_converter.html#f_escaped_utf_32_string_into_utf_16le_string_8">escaped_utf_32_string_into_utf_16le_string_8</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">,</span> <span class="elocal">a_storage</span><span class="esymbol">)</span>
				<span class="ekeyword">else</span>
					<span class="elocal">u</span><span class="edot">.</span><a class="efeature" href="../base/utf_converter.html#f_escaped_utf_32_string_into_utf_8_string_8">escaped_utf_32_string_into_utf_8_string_8</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">,</span> <span class="elocal">a_storage</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_internal_path_append_into"></a><a class="efeature" href="../base/path.html#f_internal_path_append_into">internal_path_append_into</a> <span class="esymbol">(</span><span class="elocal">a_storage</span><span class="esymbol">,</span> <span class="elocal">other</span><span class="esymbol">:</span> <a class="eclass" href="../base/string_8.html">STRING_8</a><span class="esymbol">;</span> <span class="elocal">a_separator</span><span class="esymbol">:</span> <a class="eclass" href="../base/character_8.html">CHARACTER_8</a><span class="esymbol">)</span>
			<span class="ecomment">--</span><span class="ecomment"> Append </span><span class="equoted">a_separator</span><span class="ecomment"> if other than '%U' and not already present as last character</span>
			<span class="ecomment">--</span><span class="ecomment"> of </span><span class="equoted">a_storage</span><span class="ecomment">, and then </span><span class="equoted">other</span><span class="ecomment"> to </span><span class="equoted">a_storage</span><span class="ecomment">.</span>
		<span class="ekeyword">require</span>
			<span class="etag">other_not_void</span><span class="esymbol">:</span> <span class="elocal">other</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
			<span class="etag">other_not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/finite.html#f_is_empty">is_empty</a>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="elocal">a_separator</span> <span class="esymbol">/=</span> <span class="echar">'%U'</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/finite.html#f_is_empty">is_empty</a> <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_storage</span><span class="esymbol">,</span> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">,</span> <span class="elocal">a_separator</span><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">,</span> <span class="enumber">1</span><span class="esymbol">,</span> <span class="elocal">a_separator</span><span class="esymbol">)</span> <span class="ekeyword">then</span>
				<span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_character">append_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_separator</span><span class="esymbol">)</span>
				<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
					<span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_character">append_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="echar">'%U'</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
			<span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append">append</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_internal_path_append_substring_into"></a><a class="efeature" href="../base/path.html#f_internal_path_append_substring_into">internal_path_append_substring_into</a> <span class="esymbol">(</span><span class="elocal">a_storage</span><span class="esymbol">,</span> <span class="elocal">other</span><span class="esymbol">:</span> <a class="eclass" href="../base/string_8.html">STRING_8</a><span class="esymbol">;</span> <span class="elocal">other_start_index</span><span class="esymbol">,</span> <span class="elocal">other_end_index</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a><span class="esymbol">;</span> <span class="elocal">a_separator</span><span class="esymbol">:</span> <a class="eclass" href="../base/character_8.html">CHARACTER_8</a><span class="esymbol">)</span>
			<span class="ecomment">--</span><span class="ecomment"> Append </span><span class="equoted">a_separator</span><span class="ecomment"> if other than '%U' and not already present as last character</span>
			<span class="ecomment">--</span><span class="ecomment"> of </span><span class="equoted">a_storage.substring (other_start_index, other_end_index)</span><span class="ecomment">, and then </span><span class="equoted">other</span><span class="ecomment"> to </span><span class="equoted">a_storage</span><span class="ecomment">.</span>
		<span class="ekeyword">require</span>
			<span class="etag">other_not_void</span><span class="esymbol">:</span> <span class="elocal">other</span> <span class="esymbol">/=</span> <span class="ekeyword">Void</span>
			<span class="etag">other_not_empty</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/finite.html#f_is_empty">is_empty</a>
			<span class="etag">other_has_not_trailing_directory_separator</span><span class="esymbol">:</span> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">,</span> <span class="elocal">other</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">,</span> <a class="efeature" href="../base/path.html#f_directory_separator">directory_separator</a><span class="esymbol">)</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="elocal">a_separator</span> <span class="esymbol">/=</span> <span class="echar">'%U'</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/finite.html#f_is_empty">is_empty</a> <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_storage</span><span class="esymbol">,</span> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_minus">-</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">,</span> <span class="elocal">a_separator</span><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted">and</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_is_character">is_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">,</span> <span class="elocal">other_start_index</span><span class="esymbol">,</span> <span class="elocal">a_separator</span><span class="esymbol">)</span> <span class="ekeyword">then</span>
				<span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_character">append_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_separator</span><span class="esymbol">)</span>
				<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
					<span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_character">append_character</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="echar">'%U'</span><span class="esymbol">)</span>
				<span class="ekeyword">end</span>
			<span class="ekeyword">end</span>
			<span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_append_substring">append_substring</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">other</span><span class="esymbol">,</span> <span class="elocal">other_start_index</span><span class="esymbol">,</span> <span class="elocal">other_end_index</span><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_is_character"></a><a class="efeature" href="../base/path.html#f_is_character">is_character</a> <span class="esymbol">(</span><span class="elocal">a_storage</span><span class="esymbol">:</span> <span class="ekeyword">like</span> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="esymbol">;</span> <span class="elocal">a_pos</span><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a><span class="esymbol">;</span> <span class="elocal">a_char</span><span class="esymbol">:</span> <a class="eclass" href="../base/character_8.html">CHARACTER_8</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Is </span><span class="equoted">a_char</span><span class="ecomment"> appearing at position </span><span class="equoted">a_pos</span><span class="ecomment"> (in bytes) in </span><span class="equoted">a_storage</span><span class="ecomment">.</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_pos_valid</span><span class="esymbol">:</span> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_valid_index">valid_index</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_pos</span><span class="esymbol">)</span>
			<span class="etag">a_pos_valid_for_windows</span><span class="esymbol">:</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_valid_index">valid_index</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_pos</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">)</span>
			<span class="etag">a_pos_odd_for_windows</span><span class="esymbol">:</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="esymbol">(</span><span class="elocal">a_pos</span> <a class="esymbol" href="../base/integer_32.html#f_integer_remainder">\\</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="enumber">1</span>
			<span class="etag">a_storage_count_valid_for_windows</span><span class="esymbol">:</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="esymbol">(</span><span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_integer_remainder">\\</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="enumber">0</span>
		<span class="ekeyword">do</span>
			<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_pos</span><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="elocal">a_char</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_pos</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="echar">'%U'</span>
			<span class="ekeyword">else</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_pos</span><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="elocal">a_char</span>
			<span class="ekeyword">end</span>
		<span class="ekeyword">ensure</span>
			<span class="etag">definition</span><span class="esymbol">:</span> <span class="ekeyword">Result</span> <span class="esymbol">=</span> <span class="esymbol">(</span><span class="esymbol">(</span><span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_pos</span><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="elocal">a_char</span><span class="esymbol">)</span> <a class="ekeyword" href="../base/boolean.html#f_conjuncted_semistrict">and then</a> <span class="esymbol">(</span><span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <span class="elocal">a_storage</span><span class="edot">.</span><a class="efeature" href="../base/string_8.html#f_item">item</a><span class="esymbol"> </span><span class="esymbol">(</span><span class="elocal">a_pos</span> <a class="esymbol" href="../base/integer_32.html#f_plus">+</a> <span class="enumber">1</span><span class="esymbol">)</span> <span class="esymbol">=</span> <span class="echar">'%U'</span><span class="esymbol">)</span><span class="esymbol">)</span>
		<span class="ekeyword">end</span>

	<a name="f_directory_separator_string"></a><a class="efeature" href="../base/path.html#f_directory_separator_string">Directory_separator_string</a><span class="esymbol">:</span> <a class="eclass" href="../base/string_32.html">STRING_32</a>
			<span class="ecomment">--</span><span class="ecomment"> Default directory separator for the current platform.</span>
		<span class="ekeyword">once</span>
			<span class="ekeyword">if</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <span class="ekeyword">then</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="esymbol">{</span><a class="eclass" href="../base/string_32.html">STRING_32</a><span class="esymbol">}</span>&quot;\&quot;
			<span class="ekeyword">else</span>
				<span class="ekeyword">Result</span> <span class="esymbol">:=</span> <span class="esymbol">{</span><a class="eclass" href="../base/string_32.html">STRING_32</a><span class="esymbol">}</span>&quot;/&quot;
			<span class="ekeyword">end</span>
		<span class="ekeyword">end</span>

	<a name="f_min_unc_path_count"></a><a class="efeature" href="../base/path.html#f_min_unc_path_count">Min_unc_path_count</a><span class="esymbol">:</span> <a class="eclass" href="../base/integer_32.html">INTEGER_32</a> <span class="esymbol">=</span> <span class="enumber">10</span>
			<span class="ecomment">--</span><span class="ecomment"> Number of characters in </span><a class="efeature" href="../base/path.html#f_storage">storage</a><span class="ecomment"> to make up a valid UNC path: \\a\c whic is 5 Unicode characters, thus 10 bytes.</span>
	
<span class="ekeyword">feature</span> <span class="esymbol">{</span>NONE<span class="esymbol">}</span> <span class="ecomment">--</span><span class="ecomment"> Externals</span>

	<a name="f_c_same_files"></a><a class="efeature" href="../base/path.html#f_c_same_files">c_same_files</a> <span class="esymbol">(</span><span class="elocal">a_path1</span><span class="esymbol">,</span> <span class="elocal">a_path2</span><span class="esymbol">:</span> <a class="eclass" href="../base/pointer.html">POINTER</a><span class="esymbol">)</span><span class="esymbol">:</span> <a class="eclass" href="../base/boolean.html">BOOLEAN</a>
			<span class="ecomment">--</span><span class="ecomment"> Do C paths </span><span class="equoted">a_path1</span><span class="ecomment"> and </span><span class="equoted">a_path2</span><span class="ecomment"> represent the same file?</span>
		<span class="ekeyword">require</span>
			<span class="etag">a_path1_not_null</span><span class="esymbol">:</span> <span class="elocal">a_path1</span> <span class="esymbol">/=</span> <a class="efeature" href="../base/any.html#f_default_pointer">default_pointer</a>
			<span class="etag">a_path2_not_null</span><span class="esymbol">:</span> <span class="elocal">a_path2</span> <span class="esymbol">/=</span> <a class="efeature" href="../base/any.html#f_default_pointer">default_pointer</a>
		<span class="ekeyword">external</span>
			&quot;C inline use %&quot;eif_eiffel.h%&quot;&quot;
		<span class="ekeyword">alias</span>
			&quot;[
				EIF_BOOLEAN Result = EIF_FALSE;
				#ifdef EIF_WINDOWS
						/* To check this, we use `CreateFileW' to open both file, and then using the information
						 * returned by `GetFileInformationByHandle' we can check whether or not they are indeed
						 * the same.
						 * Note: it is important to use the W version of CreateFileW because arguments
						 * are Unicode, not ASCII. */
					BY_HANDLE_FILE_INFORMATION l_path1_info, l_path2_info;
					HANDLE l_path2_file = CreateFileW ((LPCWSTR) $a_path2, GENERIC_READ, FILE_SHARE_READ, NULL,
						OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, NULL);
					HANDLE l_path1_file = CreateFileW ((LPCWSTR) $a_path1, GENERIC_READ, FILE_SHARE_READ, NULL,
							OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, NULL);
				
					if ((l_path2_file == INVALID_HANDLE_VALUE) || (l_path1_file == INVALID_HANDLE_VALUE)) {
							/* We do not need the handles anymore, simply close them. Since Microsoft
							 * API accepts INVALID_HANDLE_VALUE we don't check the validity of arguments. */
						CloseHandle(l_path2_file);
						CloseHandle(l_path1_file);
					} else {
						BOOL success = GetFileInformationByHandle (l_path2_file, &#38;l_path2_info);
						success = success &#38;&#38; GetFileInformationByHandle (l_path1_file, &#38;l_path1_info);
							/* We do not need the handles anymore, simply close them. */
						CloseHandle(l_path2_file);
						CloseHandle(l_path1_file);
						if (success) {
								/* Check that `path2' and `path1' do not represent the same file. */
							if
								((l_path2_info.dwVolumeSerialNumber == l_path1_info.dwVolumeSerialNumber) &#38;&#38;
								(l_path2_info.nFileIndexLow == l_path1_info.nFileIndexLow) &#38;&#38;
								(l_path2_info.nFileIndexHigh == l_path1_info.nFileIndexHigh))
							{
								Result = EIF_TRUE;
							}
						}
					}
				#else
					struct stat buf1, buf2;
					int status;
					#ifdef HAS_LSTAT
						status = lstat($a_path1, &#38;buf1);
						if (status == 0) {
								/* We found a file, now let's check if it is not a symbolic link. If it is, we use `stat'
							 	 * to ensure the validity of the link. */
							if ((buf1.st_mode &#38; S_IFLNK) == S_IFLNK) {
								status = stat ($a_path1, &#38;buf1);
							}
						}
						
						if (status == 0) {
							status = lstat($a_path2, &#38;buf2);
							if (status == 0) {
									/* We found a file, now let's check if it is not a symbolic link. If it is, we use `stat'
								 	 * to ensure the validity of the link. */
								if ((buf2.st_mode &#38; S_IFLNK) == S_IFLNK) {
									status = stat ($a_path2, &#38;buf2);
								}
							}
						}
					#else
						status = stat ($a_path1, &#38;buf1);
						if (status == 0) {
							status = stat ($a_path2, &#38;buf2);
						}
					#endif
					if (status == 0) {
							/* Both files are present, check they represent the same one. */
						if ((buf1.st_dev == buf2.st_dev) &#38;&#38; (buf1.st_ino == buf2.st_ino)) {
							Result = EIF_TRUE;
						}
					}
				#endif
				return Result;
			]<span class="estring">&quot;</span>
		<span class="ekeyword">end</span>
	
<span class="ekeyword">invariant</span>
	<span class="etag">little_endian_windows</span><span class="esymbol">:</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="efeature" href="../base/path.html#f_platform">Platform</a><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_little_endian">Is_little_endian</a>
	<span class="etag">even_count_on_windows</span><span class="esymbol">:</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_8.html#f_count">count</a> <a class="esymbol" href="../base/integer_32.html#f_integer_remainder">\\</a> <a class="efeature" href="../base/path.html#f_unit_size">unit_size</a> <span class="esymbol">=</span> <span class="enumber">0</span>
	<span class="etag">no_forward_slash_on_windows</span><span class="esymbol">:</span> <span class="esymbol">{</span><a class="eclass" href="../base/platform.html">PLATFORM</a><span class="esymbol">}</span><span class="edot">.</span><a class="efeature" href="../base/platform.html#f_is_windows">is_windows</a> <a class="ekeyword" href="../base/boolean.html#f_implication">implies</a> <a class="ekeyword" href="../base/boolean.html#f_negated">not</a> <a class="efeature" href="../base/path.html#f_storage">storage</a><span class="edot">.</span><a class="efeature" href="../base/readable_string_general.html#f_has_substring">has_substring</a><span class="esymbol"> </span><span class="esymbol">(</span>&quot;/%U&quot;<span class="esymbol">)</span>

<span class="ekeyword">note</span>
	<span class="eitag">copyright</span><span class="esymbol">:</span> <span class="estring">&quot;Copyright (c) 1984-2017, Eiffel Software and others&quot;</span>
	<span class="eitag">license</span><span class="esymbol">:</span> <span class="estring">&quot;Eiffel Forum License v2 (see </span><a class="estring" href="http://www.eiffel.com/licensing/forum.txt">http://www.eiffel.com/licensing/forum.txt</a><span class="estring">)&quot;</span>
	<span class="eitag">source</span><span class="esymbol">:</span> <span class="estring">&quot;</span><span class="estring">[</span>
		<span class="estring">Eiffel Software</span>
		<span class="estring">5949 Hollister Ave., Goleta, CA 93117 USA</span>
		<span class="estring">Telephone 805-685-1006, Fax 805-685-6869</span>
		<span class="estring">Website </span><a class="estring" href="http://www.eiffel.com">http://www.eiffel.com</a>
		<span class="estring">Customer support </span><a class="estring" href="http://support.eiffel.com">http://support.eiffel.com</a>
	<span class="estring">]</span><span class="estring">&quot;</span>

<span class="ekeyword">end</span> <span class="ecomment">--</span> <span class="ecomment">class </span><a class="eclass" href="../base/path.html">PATH</a></pre><form class="nav" onsubmit="go_to('../',this.c.value);return false;">
<div class="nav">
<a class="nav hierarchy" href="../class_list.html">Classes</a>
<a class="nav hierarchy" href="../cluster_list.html">Clusters</a>
<a class="nav hierarchy" href="../cluster_hierarchy.html">Cluster hierarchy</a>
<a class="nav class" href="path_chart.html">Chart</a>
<a class="nav class" href="path_links.html">Relations</a>
<span class="nav class selected">Text</span>
<span class="nav class goto">Go to: <input name="c" value="path"></span>
</div></form><pre></pre>
<p style="text-align:center;">Generated by <a href="http://www.eiffel.com">ISE EiffelStudio</a></p>
</body>
</html>

